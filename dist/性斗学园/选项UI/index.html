<head><script type="module">var e={426:(e,t)=>{t.A=(e,t)=>{const o=e.__vccOpts||e;for(const[e,n]of t)o[e]=n;return o}}},t={};const o=Vue,n={class:'option-beautifier'},a={key:0,class:'options-container'},r=['onClick'],c={class:'option-label'},l={class:'option-content'},s={key:1,class:'no-options'},i=(0,o.defineComponent)({__name:'app',setup(e){const t=(0,o.ref)([]),i=()=>{try{const e=getCurrentMessageId(),o=getChatMessages(e);if(0===o.length)return void console.warn('[选项美化] 未找到当前消息');const n=o[0].message,a=/<option>([\s\S]*?)<\/option>/,r=n.match(a);if(r&&r[1]){const e=r[1].trim();t.value=(e=>{const t=[],o=e.split('\n').map(e=>e.trim()).filter(e=>e.length>0);for(const e of o){let o=e.match(/^([A-Z])\.\s*(.+)$/);o||(o=e.match(/^([A-Z])、\s*(.+)$/)),o||(o=e.match(/^([A-Z])\)\s*(.+)$/)),o||(o=e.match(/^\(([A-Z])\)\s*(.+)$/)),o&&t.push({label:o[1],text:o[2].trim()})}if(0===t.length)for(let e=0;e<o.length;e++){const n=o[e].match(/^(\d+)\.\s*(.+)$/);if(n){const e=parseInt(n[1]),o=String.fromCharCode(64+e);t.push({label:o,text:n[2].trim()})}}return t})(e),console.info('[选项美化] 已提取选项，数量:',t.value.length)}else console.info('[选项美化] 未找到 <option> 标签')}catch(e){console.error('[选项美化] 提取选项时出错:',e)}};return(0,o.onMounted)(()=>{console.info('[选项美化] 组件已加载'),setTimeout(()=>{i()},100)}),(e,i)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',n,[t.value.length>0?((0,o.openBlock)(),(0,o.createElementBlock)('div',a,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(t.value,(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',{key:t,class:(0,o.normalizeClass)(['option-card',{'option-card-hover':!0}]),onClick:t=>(e=>{try{const t=window.parent,o=t.$||t.jQuery;if(!o)return void console.warn('[选项美化] 无法访问父窗口的jQuery');const n=['#send_textarea','textarea[name="send_textarea"]','.send_textarea','textarea[placeholder*="Message"]','textarea[placeholder*="消息"]','.chat-input textarea','#chat-input textarea'];let a=null;for(const e of n)if(a=o(e),a.length>0)break;a&&a.length>0?(a.val(e),a.trigger('input'),a.trigger('change'),a.focus(),console.info('[选项美化] 已选择选项:',e)):(console.warn('[选项美化] 未找到输入框'),navigator.clipboard&&navigator.clipboard.writeText(e).catch(()=>{console.warn('[选项美化] 复制到剪贴板失败')}))}catch(e){console.error('[选项美化] 选择选项时出错:',e)}})(e.text)},[(0,o.createCommentVNode)(' 选项标签 '),(0,o.createElementVNode)('div',c,(0,o.toDisplayString)(e.label),1),(0,o.createCommentVNode)(' 选项内容 '),(0,o.createElementVNode)('div',l,(0,o.toDisplayString)(e.text),1),(0,o.createCommentVNode)(' 点击提示 '),i[0]||(i[0]=(0,o.createElementVNode)('div',{class:'option-hint'},[(0,o.createElementVNode)('i',{class:'fas fa-mouse-pointer'}),(0,o.createTextVNode)(' 点击选择 ')],-1))],8,r))),128))])):((0,o.openBlock)(),(0,o.createElementBlock)('div',s,[...i[1]||(i[1]=[(0,o.createElementVNode)('p',null,'未找到选项内容',-1)])]))]))}});var p=function o(n){var a=t[n];if(void 0!==a)return a.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,o),r.exports}(426);const d=(0,p.A)(i,[['__scopeId','data-v-3e351eda']]);$(()=>{(0,o.createApp)(d).mount('#app')});
//# sourceMappingURL=index.js.map</script><style>.option-beautifier[data-v-3e351eda]{width:100%;margin:0;padding:0}.options-container[data-v-3e351eda]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem;padding:1rem 0}.option-card[data-v-3e351eda]{position:relative;background:linear-gradient(135deg,rgba(99,102,241,0.1) 0%,rgba(236,72,153,0.1) 100%);border:1px solid hsla(0,0%,100%,.15);border-radius:.75rem;padding:1rem 1.25rem;cursor:pointer;transition:all .3s cubic-bezier(0.4,0,0.2,1);backdrop-filter:blur(20px) saturate(180%);box-shadow:0 4px 16px rgba(0,0,0,.2),0 2px 4px rgba(99,102,241,.15),inset 0 1px 0 hsla(0,0%,100%,.1);overflow:hidden;display:flex;align-items:center;gap:1rem;background-image:radial-gradient(circle at 20% 30%,rgba(99,102,241,0.15) 0%,transparent 50%),radial-gradient(circle at 80% 70%,rgba(236,72,153,0.15) 0%,transparent 50%)}.option-card[data-v-3e351eda]::before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,transparent 0%,rgba(99,102,241,0.6) 25%,rgba(236,72,153,0.6) 75%,transparent 100%);opacity:0;transition:opacity .3s ease}.option-card[data-v-3e351eda]::after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent 0%,rgba(255,255,255,0.1) 50%,transparent 100%);transition:left .5s ease}.option-card[data-v-3e351eda]:hover{background:linear-gradient(135deg,rgba(99,102,241,0.18) 0%,rgba(236,72,153,0.18) 100%);background-image:radial-gradient(circle at 20% 30%,rgba(99,102,241,0.25) 0%,transparent 50%),radial-gradient(circle at 80% 70%,rgba(236,72,153,0.25) 0%,transparent 50%);border-color:rgba(236,72,153,.4);box-shadow:0 6px 24px rgba(0,0,0,.3),0 2px 8px rgba(99,102,241,.25),inset 0 1px 0 hsla(0,0%,100%,.15);transform:translateY(-2px)}.option-card[data-v-3e351eda]:hover::before{opacity:1}.option-card[data-v-3e351eda]:hover::after{left:100%}.option-card:hover .option-label[data-v-3e351eda]{background:linear-gradient(135deg,#6366f1 0%,#ec4899 100%);transform:scale(1.05);box-shadow:0 4px 12px rgba(99,102,241,.5)}.option-card:hover .option-content[data-v-3e351eda]{color:#f3f4f6}.option-card:hover .option-hint[data-v-3e351eda]{opacity:1;transform:translateY(0)}.option-card[data-v-3e351eda]:active{transform:translateY(0);box-shadow:0 2px 8px rgba(0,0,0,.2),0 1px 2px rgba(99,102,241,.15)}.option-label[data-v-3e351eda]{display:inline-flex;align-items:center;justify-content:center;width:2.25rem;height:2.25rem;flex-shrink:0;background:linear-gradient(135deg,rgba(99,102,241,0.4) 0%,rgba(236,72,153,0.4) 100%);border:2px solid rgba(99,102,241,.5);border-radius:50%;color:#fff;font-weight:700;font-size:1rem;transition:all .3s cubic-bezier(0.4,0,0.2,1);box-shadow:0 2px 8px rgba(99,102,241,.4),inset 0 1px 0 hsla(0,0%,100%,.2);text-shadow:0 1px 2px rgba(0,0,0,.3)}.option-content[data-v-3e351eda]{flex:1;color:#e5e7eb;font-size:.95rem;line-height:1.6;text-align:left;word-wrap:break-word;transition:color .3s ease;letter-spacing:.01em}.option-hint[data-v-3e351eda]{display:none;align-items:center;gap:.5rem;color:rgba(236,72,153,.8);font-size:.8rem;font-weight:500;opacity:0;transform:translateY(10px);transition:all .3s ease;flex-shrink:0}.option-hint i[data-v-3e351eda]{font-size:.85rem}.no-options[data-v-3e351eda]{padding:3rem 2rem;text-align:center;color:#9ca3af;font-size:1rem}.no-options p[data-v-3e351eda]{margin:0}@media (max-width:768px){.options-container[data-v-3e351eda]{grid-template-columns:1fr;gap:.75rem}.option-card[data-v-3e351eda]{padding:.875rem 1rem}.option-label[data-v-3e351eda]{width:2rem;height:2rem;font-size:.9rem}.option-content[data-v-3e351eda]{font-size:.9rem}}

/*# sourceMappingURL=main.css.map*/</style></head><body><div id="app"></div></body>