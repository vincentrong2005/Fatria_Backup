{"version":3,"file":"index.js","mappings":"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","sources":["src://tavern_helper_template/src///skillDatabase.ts","src://tavern_helper_template/node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.25_typescript@6.0.0-dev.20250807__webpack@5.103.0/node_modules/vue-loader/dist/exportHelper.js","src://tavern_helper_template/src///combatCalculator.ts","src://tavern_helper_template/src///enemyDatabase.ts","src://tavern_helper_template/src///types.ts","src://tavern_helper_template/webpack/bootstrap","src://tavern_helper_template/webpack/runtime/define property getters","src://tavern_helper_template/webpack/runtime/hasOwnProperty shorthand","src://tavern_helper_template/webpack/runtime/make namespace object","src://tavern_helper_template/external var \"Vue\"","webpack://tavern_helper_template/./src///components/BackgroundAmbience.vue?1a5e","webpack://tavern_helper_template/src///components/BackgroundAmbience.vue?5afb","webpack://tavern_helper_template/./src///components/Card.vue?a483","webpack://tavern_helper_template/src///components/Card.vue?ca53","webpack://tavern_helper_template/./src///components/ProgressBar.vue?1bb9","webpack://tavern_helper_template/src///components/ProgressBar.vue?2a63","webpack://tavern_helper_template/./src///components/StatsPanel.vue?4694","webpack://tavern_helper_template/src///components/StatsPanel.vue?b639","webpack://tavern_helper_template/./src///components/CharacterPanel.vue?e72e","webpack://tavern_helper_template/src///components/CharacterPanel.vue?ffac","webpack://tavern_helper_template/./src///components/CombatEffect.vue?3119","webpack://tavern_helper_template/src///components/CombatEffect.vue?15e3","webpack://tavern_helper_template/./src///components/CombatLog.vue?71f0","webpack://tavern_helper_template/src///components/CombatLog.vue?77b8","src://tavern_helper_template/src///constants.ts","webpack://tavern_helper_template/./src///app.vue?e953","webpack://tavern_helper_template/src///app.vue?112b","src://tavern_helper_template/external var \"z\"","src://tavern_helper_template/src///mvuSchema.ts","src://tavern_helper_template/src///index.ts"],"sourcesContent":["/**\n * \n * \n */\n\nimport { SkillData, SkillType, DamageSource, BuffType } from './types';\n\n// ====================  ====================\n\nexport const COMMON_SKILLS: SkillData[] = [\n  {\n    id: 's_tease',\n    name: '',\n    description: '',\n    effectDescription: '60%+5',\n    icon: 'HandPointer',\n    type: SkillType.PHYSICAL,\n    staminaCost: 8,\n    cooldown: 0,\n    castTime: 0,\n    damageFormula: [{ source: DamageSource.SEX_POWER, coefficient: 0.6, baseValue: 5 }],\n    accuracy: 95,\n    critModifier: 5,\n    buffs: [{ type: BuffType.SENSITIVE, value: 15, isPercent: true, duration: 2, stackable: true, maxStacks: 3 }],\n    canBeReflected: false,\n    hitCount: 1,\n    voiceLine: '...',\n  },\n  {\n    id: 's_kiss',\n    name: '',\n    description: ',',\n    effectDescription: '80%+300%',\n    icon: 'Kiss',\n    type: SkillType.PHYSICAL,\n    staminaCost: 12,\n    cooldown: 2,\n    castTime: 0,\n    damageFormula: [\n      { source: DamageSource.SEX_POWER, coefficient: 0.8, baseValue: 8 },\n      { source: DamageSource.CHARM, coefficient: 3.0, baseValue: 0 },\n    ],\n    accuracy: 90,\n    critModifier: 10,\n    buffs: [{ type: BuffType.SILENCE, value: 0, isPercent: false, duration: 1, stackable: false }],\n    canBeReflected: false,\n    hitCount: 1,\n    voiceLine: '......',\n  },\n  {\n    id: 's_strip',\n    name: '',\n    description: '',\n    effectDescription: '20%',\n    icon: 'Scissors',\n    type: SkillType.PHYSICAL,\n    staminaCost: 10,\n    cooldown: 3,\n    castTime: 0,\n    damageFormula: [{ source: DamageSource.SEX_POWER, coefficient: 0.4, baseValue: 3 }],\n    accuracy: 85,\n    critModifier: 0,\n    buffs: [{ type: BuffType.DEF_DOWN, value: 20, isPercent: true, duration: 99, stackable: true, maxStacks: 5 }],\n    canBeReflected: false,\n    hitCount: 1,\n    voiceLine: '?',\n  },\n  {\n    id: 's_spank',\n    name: '',\n    description: '',\n    effectDescription: '50%+4,',\n    icon: 'Hand',\n    type: SkillType.PHYSICAL,\n    staminaCost: 6,\n    cooldown: 1,\n    castTime: 0,\n    damageFormula: [{ source: DamageSource.SEX_POWER, coefficient: 0.5, baseValue: 4 }],\n    accuracy: 100,\n    critModifier: 15,\n    buffs: [{ type: BuffType.SHAME, value: 8, isPercent: false, duration: 2, stackable: true, maxStacks: 5 }],\n    canBeReflected: false,\n    hitCount: 1,\n    voiceLine: ',...',\n  },\n  {\n    id: 's_dirtytalk',\n    name: '',\n    description: '',\n    effectDescription: '500%,5%',\n    icon: 'Comment',\n    type: SkillType.MENTAL,\n    staminaCost: 5,\n    cooldown: 0,\n    castTime: 0,\n    damageFormula: [{ source: DamageSource.CHARM, coefficient: 5.0, baseValue: 3 }],\n    accuracy: 100,\n    critModifier: 5,\n    buffs: [{ type: BuffType.WILLPOWER_DOWN, value: 5, isPercent: true, duration: 2, stackable: true, maxStacks: 4 }],\n    canBeReflected: false,\n    hitCount: 1,\n    voiceLine: '...',\n  },\n  {\n    id: 's_observe',\n    name: '',\n    description: '',\n    effectDescription: '+50%',\n    icon: 'Eye',\n    type: SkillType.SUPPORT,\n    staminaCost: 6,\n    cooldown: 3,\n    castTime: 0,\n    damageFormula: [],\n    accuracy: 100,\n    critModifier: 0,\n    buffs: [\n      { type: BuffType.FOCUS, value: 50, isPercent: true, duration: 1, stackable: false },\n      { type: BuffType.CRIT_UP, value: 30, isPercent: true, duration: 2, stackable: false },\n    ],\n    canBeReflected: false,\n    hitCount: 0,\n    voiceLine: '...',\n  },\n  {\n    id: 's_taunt',\n    name: '',\n    description: '',\n    effectDescription: '+20%-25%',\n    icon: 'Ghost',\n    staminaCost: 8,\n    cooldown: 2,\n    castTime: 0,\n    damageFormula: [{ source: DamageSource.CHARM, coefficient: 3.0, baseValue: 2 }],\n    accuracy: 100,\n    critModifier: 0,\n    buffs: [\n      { type: BuffType.ATK_UP, value: 20, isPercent: true, duration: 2, stackable: false },\n      { type: BuffType.DEF_DOWN, value: 25, isPercent: true, duration: 2, stackable: false },\n    ],\n    canBeReflected: false,\n    hitCount: 1,\n    voiceLine: '?~',\n  },\n  {\n    id: 's_rest',\n    name: '',\n    description: '',\n    effectDescription: '15%,15%',\n    icon: 'Bed',\n    type: SkillType.SUPPORT,\n    staminaCost: 0,\n    cooldown: 4,\n    castTime: 0,\n    damageFormula: [],\n    accuracy: 100,\n    critModifier: 0,\n    buffs: [\n      { type: BuffType.REGEN, value: 15, isPercent: true, duration: 2, stackable: false },\n      { type: BuffType.DEF_UP, value: 15, isPercent: true, duration: 2, stackable: false },\n    ],\n    canBeReflected: false,\n    hitCount: 0,\n    voiceLine: '...',\n  },\n];\n\n// ====================  ====================\n\nexport const ADVANCED_SKILLS: SkillData[] = [\n  {\n    id: 's_massage',\n    name: '',\n    description: '',\n    effectDescription: '120%,-15%,+25%',\n    icon: 'Droplets',\n    type: SkillType.PHYSICAL,\n    staminaCost: 18,\n    cooldown: 4,\n    castTime: 1,\n    damageFormula: [{ source: DamageSource.SEX_POWER, coefficient: 1.2, baseValue: 10 }],\n    accuracy: 100,\n    critModifier: 0,\n    buffs: [\n      { type: BuffType.DEF_DOWN, value: 15, isPercent: true, duration: 3, stackable: false },\n      { type: BuffType.SENSITIVE, value: 25, isPercent: true, duration: 3, stackable: false },\n    ],\n    canBeReflected: false,\n    hitCount: 1,\n    voiceLine: '......',\n  },\n  {\n    id: 's_bind',\n    name: '',\n    description: '',\n    effectDescription: '30%,2',\n    icon: 'Chain',\n    type: SkillType.CONTROL,\n    staminaCost: 18,\n    cooldown: 5,\n    castTime: 0,\n    damageFormula: [{ source: DamageSource.SEX_POWER, coefficient: 0.3, baseValue: 5 }],\n    accuracy: 80,\n    critModifier: 0,\n    buffs: [\n      { type: BuffType.BIND, value: 0, isPercent: false, duration: 2, stackable: false },\n      { type: BuffType.DODGE_DOWN, value: 30, isPercent: true, duration: 2, stackable: false },\n    ],\n    canBeReflected: false,\n    hitCount: 1,\n    voiceLine: '...',\n  },\n  {\n    id: 's_pheromone',\n    name: '',\n    description: '',\n    effectDescription: '',\n    icon: 'Wind',\n    type: SkillType.CHARM,\n    staminaCost: 20,\n    cooldown: 5,\n    castTime: 0,\n    damageFormula: [{ source: DamageSource.CHARM, coefficient: 3.0, baseValue: 0 }],\n    accuracy: 100,\n    critModifier: 0,\n    buffs: [{ type: BuffType.HEAT, value: 10, isPercent: false, duration: 4, stackable: false }],\n    canBeReflected: false,\n    hitCount: 1,\n    voiceLine: '?...',\n  },\n];\n\n// ====================  ====================\n\nexport const ALL_SKILLS: SkillData[] = [...COMMON_SKILLS, ...ADVANCED_SKILLS];\n\n/** ID */\nexport function getSkillById(id: string): SkillData | undefined {\n  return ALL_SKILLS.find(skill => skill.id === id);\n}\n\n/**  */\nexport function getSkillsByType(type: SkillType): SkillData[] {\n  return ALL_SKILLS.filter(skill => skill.type === type);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","/**\n * \n * \n */\n\nimport { Character, SkillData, DamageSource, BuffType, StatusEffect } from './types';\n\n/**\n * \n */\nexport interface CombatResult {\n  damage: number;\n  isCritical: boolean;\n  isDodged: boolean;\n  actualDamage: number;\n  logs: string[];\n}\n\n/**\n * \n * @param attacker \n * @param skill \n * @returns \n */\nexport function calculateBaseDamage(attacker: Character, skill: SkillData): number {\n  let totalDamage = 0;\n\n  console.info('[] :');\n  console.info('  :', skill.damageFormula.length);\n\n  if (skill.damageFormula.length === 0) {\n    console.warn('[] 0');\n    return 0;\n  }\n\n  for (const component of skill.damageFormula) {\n    let sourceValue = 0;\n\n    switch (component.source) {\n      case DamageSource.SEX_POWER:\n        sourceValue = attacker.stats.sexPower;\n        break;\n      case DamageSource.CHARM:\n        sourceValue = attacker.stats.charm;\n        break;\n      case DamageSource.LUCK:\n        sourceValue = attacker.stats.luck;\n        break;\n      case DamageSource.WILLPOWER:\n        sourceValue = attacker.stats.willpower;\n        break;\n      case DamageSource.FIXED:\n        sourceValue = 1;\n        break;\n    }\n\n    const componentDamage = sourceValue * component.coefficient + component.baseValue;\n    totalDamage += componentDamage;\n\n    console.info(\n      `  : ${component.source}, : ${sourceValue}, : ${component.coefficient}, : ${component.baseValue}, : ${componentDamage}`,\n    );\n  }\n\n  const finalDamage = Math.max(0, Math.floor(totalDamage));\n  console.info(`  : ${finalDamage}`);\n  return finalDamage;\n}\n\n/**\n * \n * :  =  * 50 / ( + 100)\n * \n * - 0 =  * 50/100 =  * 0.550%\n * - 50 =  * 50/150 =  * 0.33367%\n * - 100 =  * 50/200 =  * 0.2575%\n * - 200 =  * 50/300 =  * 0.16783%\n * - 0\n * @param baseDamage \n * @param targetEndurance \n * @returns \n */\nexport function applyDefenseReduction(baseDamage: number, targetEndurance: number): number {\n  //  =  * 50 / ( + 100)\n  // \n  const denominator = targetEndurance + 100;\n  const finalDamage = (baseDamage * 50) / denominator;\n  const reductionPercent = ((targetEndurance / denominator) * 100).toFixed(1);\n\n  console.info(`[] : ${baseDamage}, : ${targetEndurance}`);\n  console.info(\n    `[] : ${baseDamage} * 50 / (${targetEndurance} + 100) = ${baseDamage} * 50 / ${denominator}`,\n  );\n  console.info(\n    `[] : ${baseDamage} * 50 = ${baseDamage * 50}, ${baseDamage * 50} / ${denominator} = ${finalDamage}`,\n  );\n  console.info(`[] : ${reductionPercent}%, : ${Math.floor(finalDamage)}`);\n\n  return Math.max(1, Math.floor(finalDamage));\n}\n\n/**\n * \n * @param attackerLuck \n * @param targetEvasion \n * @param skillAccuracy \n * @returns \n */\nexport function checkDodge(attackerLuck: number, targetEvasion: number, skillAccuracy: number): boolean {\n  //  =  -  + ( / 10)\n  const finalAccuracy = skillAccuracy - targetEvasion + attackerLuck / 10;\n\n  // 10%,95%\n  const clampedAccuracy = Math.max(10, Math.min(95, finalAccuracy));\n\n  // \n  const roll = Math.random() * 100;\n  return roll >= clampedAccuracy;\n}\n\n/**\n * \n * @param attackerCrit \n * @param attackerLuck \n * @param skillCritModifier \n * @returns \n */\nexport function checkCritical(attackerCrit: number, attackerLuck: number, skillCritModifier: number): boolean {\n  //  =  + ( / 10) + \n  const finalCritRate = attackerCrit + attackerLuck / 10 + skillCritModifier;\n\n  // 0%,100%\n  const clampedCritRate = Math.max(0, Math.min(100, finalCritRate));\n\n  // \n  const roll = Math.random() * 100;\n  return roll < clampedCritRate;\n}\n\n/**\n * buff\n * @param damage \n * @param attacker \n * @param target \n * @returns \n */\nexport function applyBuffModifiers(damage: number, attacker: Character, target: Character): number {\n  let modifier = 1.0;\n\n  // buff\n  for (const effect of attacker.statusEffects) {\n    if (effect.effect.type === BuffType.ATK_UP && effect.effect.isPercent) {\n      modifier += effect.effect.value / 100;\n    } else if (effect.effect.type === BuffType.ATK_DOWN && effect.effect.isPercent) {\n      modifier -= effect.effect.value / 100;\n    }\n  }\n\n  // buff\n  for (const effect of target.statusEffects) {\n    if (effect.effect.type === BuffType.DEF_UP && effect.effect.isPercent) {\n      modifier -= effect.effect.value / 100;\n    } else if (effect.effect.type === BuffType.DEF_DOWN && effect.effect.isPercent) {\n      modifier += effect.effect.value / 100;\n    } else if (effect.effect.type === BuffType.SENSITIVE && effect.effect.isPercent) {\n      modifier += effect.effect.value / 100;\n    }\n  }\n\n  return Math.max(1, Math.floor(damage * modifier));\n}\n\n/**\n * \n * @param attacker \n * @param target \n * @param skill \n * @returns \n */\nexport function executeAttack(attacker: Character, target: Character, skill: SkillData): CombatResult {\n  const logs: string[] = [];\n  const result: CombatResult = {\n    damage: 0,\n    isCritical: false,\n    isDodged: false,\n    actualDamage: 0,\n    logs: [],\n  };\n\n  // 1. \n  const baseDamage = calculateBaseDamage(attacker, skill);\n  logs.push(`: ${baseDamage}`);\n\n  // 2. \n  const dodged = checkDodge(attacker.stats.luck, target.stats.evasion, skill.accuracy);\n  if (dodged) {\n    result.isDodged = true;\n    result.logs = logs;\n    logs.push(`${target.name} !`);\n    return result;\n  }\n\n  // 3. \n  const critical = checkCritical(attacker.stats.crit, attacker.stats.luck, skill.critModifier);\n  result.isCritical = critical;\n  let finalDamage = baseDamage;\n  if (critical) {\n    finalDamage = Math.floor(baseDamage * 2);\n    logs.push(`! : ${finalDamage}`);\n  }\n\n  // 4. \n  const damageBeforeDefense = finalDamage;\n  const targetEndurance = target.stats.baseEndurance;\n  console.info(`[executeAttack] : =${damageBeforeDefense}, =${targetEndurance}`);\n\n  const damageAfterDefense = applyDefenseReduction(finalDamage, targetEndurance);\n\n  const reductionPercent = ((targetEndurance / (targetEndurance + 100)) * 100).toFixed(1);\n  const actualReduction = damageBeforeDefense - damageAfterDefense;\n  logs.push(`: ${damageBeforeDefense}`);\n  logs.push(`: ${targetEndurance}`);\n  logs.push(\n    `: ${damageBeforeDefense}  50  (${targetEndurance} + 100) = ${damageBeforeDefense}  50  ${targetEndurance + 100}`,\n  );\n  logs.push(\n    `: ${damageBeforeDefense}  50 = ${damageBeforeDefense * 50}, ${damageBeforeDefense * 50}  ${targetEndurance + 100} = ${Math.floor((damageBeforeDefense * 50) / (targetEndurance + 100))}`,\n  );\n  logs.push(`: ${reductionPercent}% ( ${actualReduction} )`);\n  logs.push(`: ${damageAfterDefense}`);\n  finalDamage = damageAfterDefense;\n  console.info(\n    `[executeAttack] : ${damageBeforeDefense} -> ${damageAfterDefense}, =${logs.length}`,\n  );\n\n  // 5. buff\n  finalDamage = applyBuffModifiers(finalDamage, attacker, target);\n  logs.push(`: ${finalDamage}`);\n\n  result.damage = baseDamage;\n  result.actualDamage = finalDamage;\n  result.logs = logs;\n\n  return result;\n}\n\n/**\n * buff\n * @param target \n * @param skill \n */\nexport function applySkillBuffs(target: Character, skill: SkillData): string[] {\n  const logs: string[] = [];\n\n  for (const buff of skill.buffs) {\n    // buff\n    const existingBuffIndex = target.statusEffects.findIndex(effect => effect.effect.type === buff.type);\n\n    if (existingBuffIndex >= 0 && !buff.stackable) {\n      // ,\n      target.statusEffects[existingBuffIndex].duration = buff.duration;\n      logs.push(` ${target.statusEffects[existingBuffIndex].name} `);\n    } else if (existingBuffIndex >= 0 && buff.stackable) {\n      // ,\n      const currentStacks = target.statusEffects.filter(effect => effect.effect.type === buff.type).length;\n      if (!buff.maxStacks || currentStacks < buff.maxStacks) {\n        // \n        const newEffect: StatusEffect = {\n          id: `${buff.type}_${Date.now()}`,\n          name: getBuffName(buff.type),\n          duration: buff.duration,\n          icon: '',\n          effect: buff,\n          type: isDebuff(buff.type) ? 'debuff' : 'buff',\n        };\n        target.statusEffects.push(newEffect);\n        logs.push(` ${newEffect.name} (${currentStacks + 1})`);\n      } else {\n        logs.push(`${getBuffName(buff.type)} `);\n      }\n    } else {\n      // buff\n      const newEffect: StatusEffect = {\n        id: `${buff.type}_${Date.now()}`,\n        name: getBuffName(buff.type),\n        duration: buff.duration,\n        icon: '',\n        effect: buff,\n        type: isDebuff(buff.type) ? 'debuff' : 'buff',\n      };\n      target.statusEffects.push(newEffect);\n      logs.push(` ${newEffect.name}`);\n    }\n  }\n\n  return logs;\n}\n\n/**\n * \n * @param character \n */\nexport function updateStatusEffects(character: Character): string[] {\n  const logs: string[] = [];\n\n  // \n  character.statusEffects = character.statusEffects.filter(effect => {\n    effect.duration--;\n    if (effect.duration <= 0) {\n      logs.push(`${character.name}  ${effect.name} `);\n      return false;\n    }\n    return true;\n  });\n\n  // /\n  for (const effect of character.statusEffects) {\n    if (effect.effect.type === BuffType.DOT_LUST) {\n      const lustChange = effect.effect.value;\n      character.stats.currentPleasure += lustChange;\n      logs.push(`${character.name}  (${lustChange > 0 ? '+' : ''}${lustChange})`);\n    } else if (effect.effect.type === BuffType.REGEN) {\n      const regenValue = effect.effect.isPercent\n        ? Math.floor((character.stats.maxEndurance * effect.effect.value) / 100)\n        : effect.effect.value;\n      character.stats.currentEndurance = Math.min(\n        character.stats.maxEndurance,\n        character.stats.currentEndurance + regenValue,\n      );\n      logs.push(`${character.name}  ${regenValue} `);\n    }\n  }\n\n  return logs;\n}\n\n/**\n * buff\n */\nfunction getBuffName(type: BuffType): string {\n  const names: Record<BuffType, string> = {\n    [BuffType.ATK_UP]: '',\n    [BuffType.DEF_UP]: '',\n    [BuffType.ATK_DOWN]: '',\n    [BuffType.DEF_DOWN]: '',\n    [BuffType.SENSITIVE]: '',\n    [BuffType.WILLPOWER_DOWN]: '',\n    [BuffType.SILENCE]: '',\n    [BuffType.BIND]: '',\n    [BuffType.DODGE_DOWN]: '',\n    [BuffType.CRIT_UP]: '',\n    [BuffType.FOCUS]: '',\n    [BuffType.SHAME]: '',\n    [BuffType.HEAT]: '',\n    [BuffType.FEAR]: '',\n    [BuffType.DOT_LUST]: '',\n    [BuffType.REGEN]: '',\n    [BuffType.ENDURANCE_UP]: '',\n  };\n  return names[type] || '';\n}\n\n/**\n * debuff\n */\nfunction isDebuff(type: BuffType): boolean {\n  const debuffs = [\n    BuffType.ATK_DOWN,\n    BuffType.DEF_DOWN,\n    BuffType.SENSITIVE,\n    BuffType.WILLPOWER_DOWN,\n    BuffType.SILENCE,\n    BuffType.BIND,\n    BuffType.DODGE_DOWN,\n    BuffType.SHAME,\n    BuffType.HEAT,\n    BuffType.FEAR,\n    BuffType.DOT_LUST,\n  ];\n  return debuffs.includes(type);\n}\n","/**\n *  - MVU\n * \n */\n\nexport interface EnemyMvuData {\n  : number;\n  : number;\n  : number;\n  : number;\n  : number;\n  : number;\n  : number;\n  : number;\n  : number;\n  : number;\n  : number;\n  : number;\n  : Record<string, any>;\n  : Record<string, number>;\n}\n\n/**\n *  - MVU\n * \\ \n */\nexport const ENEMY_DATABASE: Record<string, EnemyMvuData> = {\n  '': {\n    : 220,\n    : 110,\n    : 35,\n    : 52,\n    : 100,\n    : 544,\n    : 544,\n    : 0,\n    : 520,\n    : 0,\n    : 990,\n    : 990,\n    : {},\n    : {},\n  },\n  ' ': {\n    : 20,\n    : 40,\n    : 20,\n    : 30,\n    : 100,\n    : 152,\n    : 152,\n    : 0,\n    : 152,\n    : 0,\n    : 272,\n    : 320,\n    : {},\n    : {},\n  },\n  : {\n    : 50,\n    : 50,\n    : 30,\n    : 35,\n    : 100,\n    : 225,\n    : 225,\n    : 0,\n    : 213,\n    : 0,\n    : 427,\n    : 450,\n    : {},\n    : {},\n  },\n  : {\n    : 180,\n    : 80,\n    : 25,\n    : 55,\n    : 100,\n    : 484,\n    : 484,\n    : 0,\n    : 506,\n    : 0,\n    : 807,\n    : 850,\n    : {},\n    : {},\n  },\n  : {\n    : 80,\n    : 70,\n    : 40,\n    : 80,\n    : 100,\n    : 378,\n    : 378,\n    : 0,\n    : 324,\n    : 0,\n    : 648,\n    : 720,\n    : {},\n    : {},\n  },\n  : {\n    : 90,\n    : 80,\n    : 20,\n    : 30,\n    : 100,\n    : 285,\n    : 285,\n    : 0,\n    : 315,\n    : 0,\n    : 540,\n    : 600,\n    : {},\n    : {},\n  },\n  '': {\n    : 56,\n    : 60,\n    : 30,\n    : 40,\n    : 100,\n    : 240,\n    : 240,\n    : 0,\n    : 228,\n    : 0,\n    : 475,\n    : 480,\n    : {},\n    : {},\n  },\n  '': {\n    : 124,\n    : 100,\n    : 25,\n    : 40,\n    : 100,\n    : 346,\n    : 346,\n    : 0,\n    : 438,\n    : 0,\n    : 700,\n    : 730,\n    : {},\n    : {},\n  },\n  '': {\n    : 94,\n    : 70,\n    : 45,\n    : 23,\n    : 100,\n    : 373,\n    : 373,\n    : 0,\n    : 277,\n    : 0,\n    : 572,\n    : 650,\n    : {},\n    : {},\n  },\n  '': {\n    : 200,\n    : 100,\n    : 30,\n    : 75,\n    : 100,\n    : 498,\n    : 498,\n    : 0,\n    : 475,\n    : 0,\n    : 950,\n    : 950,\n    : {},\n    : {},\n  },\n  '': {\n    : 133,\n    : 85,\n    : 30,\n    : 45,\n    : 100,\n    : 375,\n    : 375,\n    : 0,\n    : 420,\n    : 0,\n    : 712,\n    : 750,\n    : {},\n    : {},\n  },\n  : {\n    : 113,\n    : 100,\n    : 50,\n    : 77,\n    : 100,\n    : 396,\n    : 396,\n    : 0,\n    : 528,\n    : 0,\n    : 827,\n    : 880,\n    : {},\n    : {},\n  },\n  : {\n    : 191,\n    : 110,\n    : 30,\n    : 40,\n    : 100,\n    : 513,\n    : 513,\n    : 0,\n    : 540,\n    : 0,\n    : 882,\n    : 900,\n    : {},\n    : {},\n  },\n  : {\n    : 115,\n    : 78,\n    : 50,\n    : 75,\n    : 100,\n    : 546,\n    : 546,\n    : 0,\n    : 351,\n    : 0,\n    : 756,\n    : 780,\n    : {},\n    : {},\n  },\n  : {\n    : 124,\n    : 90,\n    : 25,\n    : 50,\n    : 100,\n    : 420,\n    : 420,\n    : 0,\n    : 462,\n    : 0,\n    : 693,\n    : 700,\n    : {},\n    : {},\n  },\n  : {\n    : 130,\n    : 80,\n    : 20,\n    : 22,\n    : 100,\n    : 387,\n    : 387,\n    : 0,\n    : 490,\n    : 0,\n    : 612,\n    : 680,\n    : {},\n    : {},\n  },\n  '': {\n    : 144,\n    : 95,\n    : 25,\n    : 40,\n    : 100,\n    : 427,\n    : 427,\n    : 0,\n    : 540,\n    : 0,\n    : 735,\n    : 750,\n    : {},\n    : {},\n  },\n  : {\n    : 136,\n    : 80,\n    : 40,\n    : 70,\n    : 100,\n    : 576,\n    : 576,\n    : 0,\n    : 360,\n    : 0,\n    : 784,\n    : 800,\n    : {},\n    : {},\n  },\n  '': {\n    : 141,\n    : 100,\n    : 30,\n    : 50,\n    : 100,\n    : 420,\n    : 420,\n    : 0,\n    : 380,\n    : 0,\n    : 776,\n    : 800,\n    : {},\n    : {},\n  },\n  '': {\n    : 167,\n    : 100,\n    : 25,\n    : 50,\n    : 100,\n    : 510,\n    : 510,\n    : 0,\n    : 382,\n    : 0,\n    : 824,\n    : 850,\n    : {},\n    : {},\n  },\n  '': {\n    : 130,\n    : 90,\n    : 35,\n    : 55,\n    : 100,\n    : 400,\n    : 400,\n    : 0,\n    : 380,\n    : 0,\n    : 752,\n    : 800,\n    : {},\n    : {},\n  },\n  : {\n    : 96,\n    : 100,\n    : 40,\n    : 50,\n    : 100,\n    : 356,\n    : 356,\n    : 0,\n    : 393,\n    : 0,\n    : 697,\n    : 750,\n    : {},\n    : {},\n  },\n  : {\n    : 135,\n    : 110,\n    : 30,\n    : 45,\n    : 100,\n    : 370,\n    : 370,\n    : 0,\n    : 468,\n    : 0,\n    : 772,\n    : 780,\n    : {},\n    : {},\n  },\n  '': {\n    : 94,\n    : 90,\n    : 30,\n    : 50,\n    : 100,\n    : 332,\n    : 332,\n    : 0,\n    : 420,\n    : 0,\n    : 644,\n    : 700,\n    : {},\n    : {},\n  },\n  '': {\n    : 92,\n    : 75,\n    : 45,\n    : 50,\n    : 100,\n    : 391,\n    : 391,\n    : 0,\n    : 290,\n    : 0,\n    : 632,\n    : 680,\n    : {},\n    : {},\n  },\n  : {\n    : 87,\n    : 70,\n    : 40,\n    : 45,\n    : 100,\n    : 390,\n    : 390,\n    : 0,\n    : 263,\n    : 0,\n    : 585,\n    : 650,\n    : {},\n    : {},\n  },\n  : {\n    : 73,\n    : 65,\n    : 50,\n    : 45,\n    : 100,\n    : 356,\n    : 356,\n    : 0,\n    : 264,\n    : 0,\n    : 564,\n    : 620,\n    : {},\n    : {},\n  },\n  : {\n    : 102,\n    : 80,\n    : 25,\n    : 40,\n    : 100,\n    : 332,\n    : 332,\n    : 0,\n    : 367,\n    : 0,\n    : 609,\n    : 700,\n    : {},\n    : {},\n  },\n  : {\n    : 82,\n    : 80,\n    : 25,\n    : 35,\n    : 100,\n    : 332,\n    : 332,\n    : 0,\n    : 420,\n    : 0,\n    : 640,\n    : 700,\n    : {},\n    : {},\n  },\n  : {\n    : 80,\n    : 70,\n    : 30,\n    : 40,\n    : 100,\n    : 285,\n    : 285,\n    : 0,\n    : 315,\n    : 0,\n    : 540,\n    : 600,\n    : {},\n    : {},\n  },\n  : {\n    : 34,\n    : 60,\n    : 35,\n    : 40,\n    : 100,\n    : 237,\n    : 237,\n    : 0,\n    : 237,\n    : 0,\n    : 425,\n    : 500,\n    : {},\n    : {},\n  },\n  : {\n    : 72,\n    : 70,\n    : 30,\n    : 40,\n    : 100,\n    : 261,\n    : 261,\n    : 0,\n    : 247,\n    : 0,\n    : 522,\n    : 550,\n    : {},\n    : {},\n  },\n  : {\n    : 63,\n    : 70,\n    : 30,\n    : 40,\n    : 100,\n    : 247,\n    : 247,\n    : 0,\n    : 273,\n    : 0,\n    : 499,\n    : 520,\n    : {},\n    : {},\n  },\n  '': {\n    : 24,\n    : 40,\n    : 20,\n    : 30,\n    : 100,\n    : 135,\n    : 135,\n    : 0,\n    : 128,\n    : 0,\n    : 279,\n    : 300,\n    : {},\n    : {},\n  },\n  : {\n    : 34,\n    : 30,\n    : 15,\n    : 20,\n    : 100,\n    : 126,\n    : 126,\n    : 0,\n    : 147,\n    : 0,\n    : 246,\n    : 280,\n    : {},\n    : {},\n  },\n  : {\n    : 86,\n    : 80,\n    : 45,\n    : 50,\n    : 100,\n    : 345,\n    : 345,\n    : 0,\n    : 327,\n    : 0,\n    : 635,\n    : 690,\n    : {},\n    : {},\n  },\n  : {\n    : 119,\n    : 90,\n    : 30,\n    : 40,\n    : 100,\n    : 323,\n    : 323,\n    : 0,\n    : 357,\n    : 0,\n    : 666,\n    : 680,\n    : {},\n    : {},\n  },\n  : {\n    : 118,\n    : 85,\n    : 30,\n    : 45,\n    : 100,\n    : 375,\n    : 375,\n    : 0,\n    : 393,\n    : 0,\n    : 682,\n    : 750,\n    : {},\n    : {},\n  },\n  '': {\n    : 18,\n    : 60,\n    : 45,\n    : 50,\n    : 100,\n    : 264,\n    : 264,\n    : 0,\n    : 196,\n    : 0,\n    : 446,\n    : 460,\n    : {},\n    : {},\n  },\n  : {\n    : 12,\n    : 60,\n    : 50,\n    : 45,\n    : 100,\n    : 225,\n    : 225,\n    : 0,\n    : 236,\n    : 0,\n    : 432,\n    : 450,\n    : {},\n    : {},\n  },\n  ' ': {\n    : 20,\n    : 40,\n    : 40,\n    : 30,\n    : 100,\n    : 230,\n    : 230,\n    : 0,\n    : 171,\n    : 0,\n    : 364,\n    : 400,\n    : {},\n    : {},\n  },\n  : {\n    : 40,\n    : 35,\n    : 25,\n    : 30,\n    : 100,\n    : 180,\n    : 180,\n    : 0,\n    : 199,\n    : 0,\n    : 349,\n    : 380,\n    : {},\n    : {},\n  },\n  : {\n    : 47,\n    : 40,\n    : 25,\n    : 30,\n    : 100,\n    : 190,\n    : 190,\n    : 0,\n    : 190,\n    : 0,\n    : 368,\n    : 400,\n    : {},\n    : {},\n  },\n  : {\n    : 51,\n    : 35,\n    : 25,\n    : 25,\n    : 100,\n    : 175,\n    : 175,\n    : 0,\n    : 222,\n    : 0,\n    : 344,\n    : 370,\n    : {},\n    : {},\n  },\n  : {\n    : 33,\n    : 30,\n    : 20,\n    : 25,\n    : 100,\n    : 142,\n    : 142,\n    : 0,\n    : 157,\n    : 0,\n    : 267,\n    : 300,\n    : {},\n    : {},\n  },\n  : {\n    : 19,\n    : 20,\n    : 15,\n    : 20,\n    : 100,\n    : 154,\n    : 154,\n    : 0,\n    : 133,\n    : 0,\n    : 196,\n    : 280,\n    : {},\n    : {},\n  },\n  : {\n    : 33,\n    : 40,\n    : 25,\n    : 30,\n    : 100,\n    : 171,\n    : 171,\n    : 0,\n    : 189,\n    : 0,\n    : 327,\n    : 360,\n    : {},\n    : {},\n  },\n  '': {\n    : 16,\n    : 40,\n    : 30,\n    : 35,\n    : 100,\n    : 165,\n    : 165,\n    : 0,\n    : 173,\n    : 0,\n    : 310,\n    : 330,\n    : {},\n    : {},\n  },\n  : {\n    : 7,\n    : 25,\n    : 20,\n    : 25,\n    : 100,\n    : 148,\n    : 148,\n    : 0,\n    : 115,\n    : 0,\n    : 202,\n    : 270,\n    : {},\n    : {},\n  },\n  : {\n    : 25,\n    : 25,\n    : 15,\n    : 20,\n    : 100,\n    : 88,\n    : 88,\n    : 0,\n    : 84,\n    : 0,\n    : 211,\n    : 220,\n    : {},\n    : {},\n  },\n  : {\n    : 28,\n    : 20,\n    : 15,\n    : 20,\n    : 100,\n    : 85,\n    : 85,\n    : 0,\n    : 90,\n    : 0,\n    : 196,\n    : 200,\n    : {},\n    : {},\n  },\n  : {\n    : 8,\n    : 20,\n    : 15,\n    : 18,\n    : 100,\n    : 94,\n    : 94,\n    : 0,\n    : 77,\n    : 0,\n    : 153,\n    : 180,\n    : {},\n    : {},\n  },\n  '': {\n    : 15,\n    : 25,\n    : 20,\n    : 25,\n    : 100,\n    : 114,\n    : 114,\n    : 0,\n    : 126,\n    : 0,\n    : 220,\n    : 240,\n    : {},\n    : {},\n  },\n  : {\n    : 5,\n    : 10,\n    : 10,\n    : 11,\n    : 100,\n    : 63,\n    : 63,\n    : 0,\n    : 67,\n    : 0,\n    : 82,\n    : 150,\n    : {},\n    : {},\n  },\n  '': {\n    : 50,\n    : 55,\n    : 40,\n    : 34,\n    : 100,\n    : 250,\n    : 250,\n    : 0,\n    : 262,\n    : 0,\n    : 445,\n    : 500,\n    : {},\n    : {},\n  },\n  : {\n    : 30,\n    : 40,\n    : 35,\n    : 33,\n    : 100,\n    : 200,\n    : 200,\n    : 0,\n    : 190,\n    : 0,\n    : 352,\n    : 400,\n    : {},\n    : {},\n  },\n  : {\n    : 42,\n    : 50,\n    : 30,\n    : 25,\n    : 100,\n    : 213,\n    : 213,\n    : 0,\n    : 202,\n    : 0,\n    : 369,\n    : 450,\n    : {},\n    : {},\n  },\n  : {\n    : 59,\n    : 70,\n    : 35,\n    : 40,\n    : 100,\n    : 261,\n    : 261,\n    : 0,\n    : 247,\n    : 0,\n    : 469,\n    : 550,\n    : {},\n    : {},\n  },\n  : {\n    : 61,\n    : 60,\n    : 40,\n    : 35,\n    : 100,\n    : 285,\n    : 285,\n    : 0,\n    : 315,\n    : 0,\n    : 492,\n    : 600,\n    : {},\n    : {},\n  },\n  ' ': {\n    : 27,\n    : 50,\n    : 35,\n    : 40,\n    : 100,\n    : 190,\n    : 190,\n    : 0,\n    : 240,\n    : 0,\n    : 370,\n    : 400,\n    : {},\n    : {},\n  },\n  : {\n    : 137,\n    : 120,\n    : 60,\n    : 100,\n    : 100,\n    : 504,\n    : 504,\n    : 0,\n    : 713,\n    : 0,\n    : 990,\n    : 990,\n    : {},\n    : {},\n  },\n  : {\n    : 89,\n    : 72,\n    : 30,\n    : 35,\n    : 100,\n    : 390,\n    : 390,\n    : 0,\n    : 312,\n    : 0,\n    : 552,\n    : 650,\n    : {},\n    : {},\n  },\n  : {\n    : 9,\n    : 40,\n    : 25,\n    : 10,\n    : 100,\n    : 166,\n    : 166,\n    : 0,\n    : 157,\n    : 0,\n    : 227,\n    : 350,\n    : {},\n    : {},\n  },\n  : {\n    : 4,\n    : 35,\n    : 20,\n    : 5,\n    : 100,\n    : 135,\n    : 135,\n    : 0,\n    : 128,\n    : 0,\n    : 180,\n    : 300,\n    : {},\n    : {},\n  },\n  : {\n    : 93,\n    : 90,\n    : 50,\n    : 55,\n    : 100,\n    : 375,\n    : 375,\n    : 0,\n    : 356,\n    : 0,\n    : 712,\n    : 750,\n    : {},\n    : {},\n  },\n  : {\n    : 86,\n    : 85,\n    : 45,\n    : 50,\n    : 100,\n    : 360,\n    : 360,\n    : 0,\n    : 342,\n    : 0,\n    : 662,\n    : 720,\n    : {},\n    : {},\n  },\n  : {\n    : 81,\n    : 90,\n    : 50,\n    : 60,\n    : 100,\n    : 405,\n    : 405,\n    : 0,\n    : 360,\n    : 0,\n    : 699,\n    : 750,\n    : {},\n    : {},\n  },\n  : {\n    : 5,\n    : 10,\n    : 10,\n    : 11,\n    : 100,\n    : 40,\n    : 40,\n    : 0,\n    : 42,\n    : 0,\n    : 75,\n    : 100,\n    : {},\n    : {},\n  },\n  // \n  // '': {\n  //   : ,\n  //   : ,\n  //   : ,\n  //   : ,\n  //   : ,\n  //   : ,\n  //   : ,\n  //   : 0,\n  //   : ,\n  //   : 0,\n  //   : ,\n  //   : ,\n  //   : {},\n  //   : {},\n  // },\n};\n\n/**\n * MVU\n * @param enemyName \n * @returns MVUnull\n */\nexport function getEnemyMvuData(enemyName: string): EnemyMvuData | null {\n  return ENEMY_DATABASE[enemyName] || null;\n}\n\n/**\n * \n * @param enemyName \n * @returns \n */\nexport function hasEnemyData(enemyName: string): boolean {\n  return enemyName in ENEMY_DATABASE;\n}\n","/**\n * \n * MVU\n */\n\nexport type StatType = 'sexPower' | 'endurance' | 'evasion' | 'crit' | 'charm' | 'luck' | 'willpower';\n\n/**  - MVU */\nexport interface CombatStats {\n  maxEndurance: number; // ._\n  currentEndurance: number; // ._\n  maxPleasure: number; // ._\n  currentPleasure: number; // ._\n  willpower: number; // ._\n  climaxCount: number; // .$\n  maxClimaxCount: number; // ..\n\n  // \n  sexPower: number; // .$\n  baseEndurance: number; // .$\n  evasion: number; // .$\n  crit: number; // .$\n  charm: number; // ._\n  luck: number; // ._\n  baseWillpower: number; // .$\n}\n\n/**  */\nexport enum DamageSource {\n  SEX_POWER = 'sex_power',\n  CHARM = 'charm',\n  LUCK = 'luck',\n  WILLPOWER = 'willpower',\n  FIXED = 'fixed',\n}\n\n/**  */\nexport enum SkillType {\n  PHYSICAL = 'physical',\n  MENTAL = 'mental',\n  CHARM = 'charm',\n  SUPPORT = 'support',\n  CONTROL = 'control',\n  ULTIMATE = 'ultimate',\n}\n\n/** Buff */\nexport enum BuffType {\n  ATK_UP = 'atk_up',\n  DEF_UP = 'def_up',\n  ATK_DOWN = 'atk_down',\n  DEF_DOWN = 'def_down',\n  SENSITIVE = 'sensitive',\n  WILLPOWER_DOWN = 'willpower_down',\n  SILENCE = 'silence',\n  BIND = 'bind',\n  DODGE_DOWN = 'dodge_down',\n  CRIT_UP = 'crit_up',\n  FOCUS = 'focus',\n  SHAME = 'shame',\n  HEAT = 'heat',\n  FEAR = 'fear',\n  DOT_LUST = 'dot_lust',\n  REGEN = 'regen',\n  ENDURANCE_UP = 'endurance_up',\n}\n\n/** Buff */\nexport interface BuffEffect {\n  type: BuffType;\n  value: number;\n  isPercent: boolean;\n  duration: number;\n  stackable: boolean;\n  maxStacks?: number;\n}\n\n/**  */\nexport interface DamageComponent {\n  source: DamageSource;\n  coefficient: number;\n  baseValue: number;\n}\n\n/**  */\nexport interface SkillData {\n  id: string;\n  name: string;\n  description: string;\n  effectDescription: string;\n  icon?: string;\n  type: SkillType;\n  staminaCost: number;\n  cooldown: number;\n  castTime: number;\n  damageFormula: DamageComponent[];\n  accuracy: number;\n  critModifier: number;\n  buffs: BuffEffect[];\n  canBeReflected: boolean;\n  hitCount: number;\n  voiceLine?: string;\n}\n\n/**  () */\nexport interface Skill {\n  id: string;\n  name: string;\n  description: string;\n  cost: number;\n  type: SkillType;\n  cooldown: number;\n  currentCooldown: number;\n  data: SkillData;\n}\n\n/**  */\nexport interface Item {\n  id: string;\n  name: string;\n  description: string;\n  quantity: number;\n  effect: (user: Character, target: Character) => CombatLogEntry;\n  // \n  staminaRestore?: number;\n  pleasureReduce?: number;\n}\n\n/**  */\nexport interface Character {\n  id: string;\n  name: string;\n  avatarUrl: string;\n  stats: CombatStats;\n  skills: Skill[];\n  items: Item[];\n  isPlayer: boolean;\n  statusEffects: StatusEffect[];\n}\n\n/**  () */\nexport interface StatusEffect {\n  id: string;\n  name: string;\n  duration: number;\n  icon: string;\n  effect: BuffEffect;\n  type: 'buff' | 'debuff';\n}\n\n/**  */\nexport interface CombatLogEntry {\n  id: string;\n  turn: number;\n  message: string;\n  source: string;\n  type: 'damage' | 'heal' | 'info' | 'critical';\n}\n\n/**  */\nexport interface TurnState {\n  currentTurn: number;\n  phase: 'playerInput' | 'processing' | 'enemyAction' | 'victory' | 'defeat' | 'climaxResolution';\n  enemyIntention: Skill | null;\n  climaxTarget: 'player' | 'enemy' | null;\n}\n\n/** MVU - Schema */\nexport interface MvuStatData {\n  : {\n    _: number;\n    : number;\n    : number;\n    _: string;\n    : number;\n  };\n  : {\n    $: number;\n    $: number;\n    $: number;\n    $: number;\n    $: number;\n    $: number;\n    : number;\n    _: number;\n    _: number;\n    $: number;\n    _: number;\n    $: number;\n    $: number;\n    $: number;\n    _: number;\n    $: number;\n    _: number;\n    $: number;\n    : number;\n    $: number;\n  };\n  : {\n    : Record<string, number>;\n    : BonusStats;\n  };\n  : {\n    : string[];\n    : BonusStats;\n  };\n  : {\n    : string;\n    : string;\n    : {\n      : number;\n      : boolean;\n    };\n    : number;\n    : Record<string, string>;\n    : number;\n    : number;\n    : number;\n    // \n    : number;\n    : number;\n    : number;\n    : number;\n    : number;\n    : number;\n    : number;\n    : number;\n    : number;\n    : number;\n    : number;\n    : number;\n    : {\n      : Record<string, number>;\n      : BonusStats;\n    };\n    : Record<string, number>;\n    : Record<string, any>;\n    : Record<string, number>;\n  };\n  : {\n    : number;\n    : Record<string, any>;\n    _: {\n      : { : string; : string; : BonusStats; : string };\n      : { : string; : string; : BonusStats; : string };\n      1: { : string; : string; : BonusStats; : string };\n      2: { : string; : string; : BonusStats; : string };\n      : { : string; : string; : BonusStats; : string };\n    };\n    : BonusStats;\n  };\n  : {\n    : Record<string, any>;\n  };\n  : {\n    : string[];\n    [key: string]: any; // \n  };\n  : {\n    : {\n      : string;\n      : string;\n      : string;\n      : Record<string, any>;\n      : string;\n      : string;\n    };\n    : Record<string, any>;\n    : string[];\n  };\n  : {\n    : string;\n    : number;\n    : string;\n  };\n  : {\n    : string;\n    : number;\n    : string;\n  };\n  : {\n    : number;\n    : number;\n    BF: number;\n    : number;\n    : number;\n    : number;\n    : number;\n    : number;\n  };\n}\n\n/**  */\nexport interface BonusStats {\n  : number;\n  : number;\n  : number;\n  : number;\n  : number;\n  : number;\n  : number;\n  : number;\n  : number;\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = Vue;","import { defineComponent as _defineComponent } from 'vue';\nimport { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle } from \"vue\";\nconst _hoisted_1 = { class: \"bg-ambience\" };\nimport { ref, onMounted } from 'vue';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'BackgroundAmbience',\n    setup(__props) {\n        const dustParticles = ref([]);\n        const petals = ref([]);\n        onMounted(() => {\n            // \n            dustParticles.value = Array.from({ length: 20 }).map((_, i) => ({\n                id: i,\n                left: Math.random() * 100,\n                delay: Math.random() * -20,\n                duration: 15 + Math.random() * 20,\n            }));\n            // \n            petals.value = Array.from({ length: 8 }).map((_, i) => ({\n                id: i + 100,\n                left: Math.random() * 100,\n                delay: Math.random() * -20,\n                duration: 10 + Math.random() * 15,\n                scale: 0.5 + Math.random() * 0.5,\n            }));\n        });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createCommentVNode(\"  \"),\n                _cache[0] || (_cache[0] = _createElementVNode(\"div\", { class: \"bg-gradient\" }, null, -1 /* CACHED */)),\n                _createCommentVNode(\"  \"),\n                _cache[1] || (_cache[1] = _createElementVNode(\"div\", { class: \"bg-texture\" }, null, -1 /* CACHED */)),\n                _createCommentVNode(\"  \"),\n                _cache[2] || (_cache[2] = _createElementVNode(\"div\", { class: \"glow glow-top\" }, null, -1 /* CACHED */)),\n                _cache[3] || (_cache[3] = _createElementVNode(\"div\", { class: \"glow glow-bottom\" }, null, -1 /* CACHED */)),\n                _createCommentVNode(\"  \"),\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(dustParticles.value, (particle) => {\n                    return (_openBlock(), _createElementBlock(\"div\", {\n                        key: particle.id,\n                        class: \"dust-particle\",\n                        style: _normalizeStyle({\n                            left: `${particle.left}%`,\n                            animationDelay: `${particle.delay}s`,\n                            animationDuration: `${particle.duration}s`,\n                        })\n                    }, null, 4 /* STYLE */));\n                }), 128 /* KEYED_FRAGMENT */)),\n                _createCommentVNode(\"  \"),\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(petals.value, (petal) => {\n                    return (_openBlock(), _createElementBlock(\"div\", {\n                        key: petal.id,\n                        class: \"petal\",\n                        style: _normalizeStyle({\n                            left: `${petal.left}%`,\n                            transform: `scale(${petal.scale})`,\n                            animationDelay: `${petal.delay}s`,\n                            animationDuration: `${petal.duration}s`,\n                        })\n                    }, null, 4 /* STYLE */));\n                }), 128 /* KEYED_FRAGMENT */)),\n                _createCommentVNode(\"  \"),\n                _cache[4] || (_cache[4] = _createElementVNode(\"div\", { class: \"flicker-overlay\" }, null, -1 /* CACHED */)),\n                _createCommentVNode(\"  \"),\n                _cache[5] || (_cache[5] = _createElementVNode(\"div\", { class: \"vignette\" }, null, -1 /* CACHED */))\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./BackgroundAmbience.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./BackgroundAmbience.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./BackgroundAmbience.vue?vue&type=style&index=0&id=5c5045ec&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.25_typescript@6.0.0-dev.20250807__webpack@5.103.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5c5045ec\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { renderSlot as _renderSlot, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'Card',\n    props: {\n        hover: { type: Boolean, default: false }\n    },\n    emits: [\"click\"],\n    setup(__props) {\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n                class: _normalizeClass([\"card\", { 'card-hover': __props.hover }]),\n                onClick: _cache[0] || (_cache[0] = ($event) => (_ctx.$emit('click')))\n            }, [\n                _renderSlot(_ctx.$slots, \"default\")\n            ], 2 /* CLASS */));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./Card.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Card.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Card.vue?vue&type=style&index=0&id=61077dd9&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.25_typescript@6.0.0-dev.20250807__webpack@5.103.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-61077dd9\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle } from \"vue\";\nconst _hoisted_1 = { class: \"progress-container\" };\nconst _hoisted_2 = { class: \"progress-header\" };\nconst _hoisted_3 = { class: \"progress-label\" };\nconst _hoisted_4 = [\"innerHTML\"];\nconst _hoisted_5 = {\n    key: 0,\n    class: \"progress-value\"\n};\nimport { computed } from 'vue';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'ProgressBar',\n    props: {\n        value: {},\n        max: {},\n        color: {},\n        label: { default: '' },\n        showValue: { type: Boolean, default: true },\n        size: { default: 'md' },\n        icon: { default: '' }\n    },\n    setup(__props) {\n        const props = __props;\n        const percentage = computed(() => {\n            return Math.min(Math.max((props.value / props.max) * 100, 0), 100);\n        });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _createElementVNode(\"span\", _hoisted_3, [\n                        (__props.icon)\n                            ? (_openBlock(), _createElementBlock(\"span\", {\n                                key: 0,\n                                class: \"progress-icon\",\n                                innerHTML: __props.icon\n                            }, null, 8 /* PROPS */, _hoisted_4))\n                            : _createCommentVNode(\"v-if\", true),\n                        _createTextVNode(\" \" + _toDisplayString(__props.label), 1 /* TEXT */)\n                    ]),\n                    (__props.showValue)\n                        ? (_openBlock(), _createElementBlock(\"span\", _hoisted_5, _toDisplayString(__props.value) + \" / \" + _toDisplayString(__props.max), 1 /* TEXT */))\n                        : _createCommentVNode(\"v-if\", true)\n                ]),\n                _createElementVNode(\"div\", {\n                    class: _normalizeClass([\"progress-track\", `track-${__props.color}`])\n                }, [\n                    _createElementVNode(\"div\", {\n                        class: _normalizeClass([\"progress-fill\", `fill-${__props.color}`]),\n                        style: _normalizeStyle({ width: `${percentage.value}%` })\n                    }, [...(_cache[0] || (_cache[0] = [\n                            _createElementVNode(\"div\", { class: \"shimmer\" }, null, -1 /* CACHED */)\n                        ]))], 6 /* CLASS, STYLE */)\n                ], 2 /* CLASS */)\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./ProgressBar.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ProgressBar.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ProgressBar.vue?vue&type=style&index=0&id=07aaeb53&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.25_typescript@6.0.0-dev.20250807__webpack@5.103.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-07aaeb53\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createStaticVNode as _createStaticVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = { class: \"stat-item\" };\nconst _hoisted_2 = { class: \"stat-value\" };\nconst _hoisted_3 = { class: \"stat-item\" };\nconst _hoisted_4 = { class: \"stat-value\" };\nconst _hoisted_5 = { class: \"stat-item\" };\nconst _hoisted_6 = { class: \"stat-value\" };\nconst _hoisted_7 = { class: \"stat-item\" };\nconst _hoisted_8 = { class: \"stat-value\" };\nconst _hoisted_9 = { class: \"stat-item\" };\nconst _hoisted_10 = { class: \"stat-value\" };\nconst _hoisted_11 = { class: \"stat-item\" };\nconst _hoisted_12 = { class: \"stat-value\" };\nconst _hoisted_13 = { class: \"stat-item stat-full\" };\nconst _hoisted_14 = { class: \"stat-value\" };\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'StatsPanel',\n    props: {\n        stats: {},\n        compact: { type: Boolean, default: false }\n    },\n    setup(__props) {\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n                class: _normalizeClass([\"stats-panel\", { 'stats-compact': __props.compact }])\n            }, [\n                _createElementVNode(\"div\", _hoisted_1, [\n                    _cache[0] || (_cache[0] = _createElementVNode(\"div\", { class: \"stat-info text-pink-400\" }, [\n                        _createElementVNode(\"svg\", {\n                            xmlns: \"http://www.w3.org/2000/svg\",\n                            width: \"14\",\n                            height: \"14\",\n                            viewBox: \"0 0 24 24\",\n                            fill: \"none\",\n                            stroke: \"currentColor\",\n                            \"stroke-width\": \"2\"\n                        }, [\n                            _createElementVNode(\"polygon\", { points: \"13 2 3 14 12 14 11 22 21 10 12 10 13 2\" })\n                        ]),\n                        _createElementVNode(\"span\", { class: \"stat-label\" }, \"\")\n                    ], -1 /* CACHED */)),\n                    _createElementVNode(\"span\", _hoisted_2, _toDisplayString(__props.stats.sexPower), 1 /* TEXT */)\n                ]),\n                _createElementVNode(\"div\", _hoisted_3, [\n                    _cache[1] || (_cache[1] = _createElementVNode(\"div\", { class: \"stat-info text-green-400\" }, [\n                        _createElementVNode(\"svg\", {\n                            xmlns: \"http://www.w3.org/2000/svg\",\n                            width: \"14\",\n                            height: \"14\",\n                            viewBox: \"0 0 24 24\",\n                            fill: \"none\",\n                            stroke: \"currentColor\",\n                            \"stroke-width\": \"2\"\n                        }, [\n                            _createElementVNode(\"path\", { d: \"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z\" })\n                        ]),\n                        _createElementVNode(\"span\", { class: \"stat-label\" }, \"\")\n                    ], -1 /* CACHED */)),\n                    _createElementVNode(\"span\", _hoisted_4, _toDisplayString(__props.stats.baseEndurance), 1 /* TEXT */)\n                ]),\n                _createElementVNode(\"div\", _hoisted_5, [\n                    _cache[2] || (_cache[2] = _createStaticVNode(\"<div class=\\\"stat-info text-cyan-400\\\" data-v-0a8a4b1c><svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"14\\\" height=\\\"14\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" data-v-0a8a4b1c><path d=\\\"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2\\\" data-v-0a8a4b1c></path><path d=\\\"M9.6 4.6A2 2 0 1 1 11 8H2\\\" data-v-0a8a4b1c></path><path d=\\\"M12.6 19.4A2 2 0 1 0 14 16H2\\\" data-v-0a8a4b1c></path></svg><span class=\\\"stat-label\\\" data-v-0a8a4b1c></span></div>\", 1)),\n                    _createElementVNode(\"span\", _hoisted_6, _toDisplayString(__props.stats.evasion) + \"%\", 1 /* TEXT */)\n                ]),\n                _createElementVNode(\"div\", _hoisted_7, [\n                    _cache[3] || (_cache[3] = _createStaticVNode(\"<div class=\\\"stat-info text-orange-400\\\" data-v-0a8a4b1c><svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"14\\\" height=\\\"14\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" data-v-0a8a4b1c><circle cx=\\\"12\\\" cy=\\\"12\\\" r=\\\"10\\\" data-v-0a8a4b1c></circle><line x1=\\\"22\\\" y1=\\\"12\\\" x2=\\\"18\\\" y2=\\\"12\\\" data-v-0a8a4b1c></line><line x1=\\\"6\\\" y1=\\\"12\\\" x2=\\\"2\\\" y2=\\\"12\\\" data-v-0a8a4b1c></line><line x1=\\\"12\\\" y1=\\\"6\\\" x2=\\\"12\\\" y2=\\\"2\\\" data-v-0a8a4b1c></line><line x1=\\\"12\\\" y1=\\\"22\\\" x2=\\\"12\\\" y2=\\\"18\\\" data-v-0a8a4b1c></line></svg><span class=\\\"stat-label\\\" data-v-0a8a4b1c></span></div>\", 1)),\n                    _createElementVNode(\"span\", _hoisted_8, _toDisplayString(__props.stats.crit) + \"%\", 1 /* TEXT */)\n                ]),\n                _createElementVNode(\"div\", _hoisted_9, [\n                    _cache[4] || (_cache[4] = _createElementVNode(\"div\", { class: \"stat-info text-rose-400\" }, [\n                        _createElementVNode(\"svg\", {\n                            xmlns: \"http://www.w3.org/2000/svg\",\n                            width: \"14\",\n                            height: \"14\",\n                            viewBox: \"0 0 24 24\",\n                            fill: \"none\",\n                            stroke: \"currentColor\",\n                            \"stroke-width\": \"2\"\n                        }, [\n                            _createElementVNode(\"path\", { d: \"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z\" })\n                        ]),\n                        _createElementVNode(\"span\", { class: \"stat-label\" }, \"\")\n                    ], -1 /* CACHED */)),\n                    _createElementVNode(\"span\", _hoisted_10, _toDisplayString(__props.stats.charm), 1 /* TEXT */)\n                ]),\n                _createElementVNode(\"div\", _hoisted_11, [\n                    _cache[5] || (_cache[5] = _createElementVNode(\"div\", { class: \"stat-info text-yellow-400\" }, [\n                        _createElementVNode(\"svg\", {\n                            xmlns: \"http://www.w3.org/2000/svg\",\n                            width: \"14\",\n                            height: \"14\",\n                            viewBox: \"0 0 24 24\",\n                            fill: \"none\",\n                            stroke: \"currentColor\",\n                            \"stroke-width\": \"2\"\n                        }, [\n                            _createElementVNode(\"path\", { d: \"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z\" })\n                        ]),\n                        _createElementVNode(\"span\", { class: \"stat-label\" }, \"\")\n                    ], -1 /* CACHED */)),\n                    _createElementVNode(\"span\", _hoisted_12, _toDisplayString(__props.stats.luck), 1 /* TEXT */)\n                ]),\n                _createElementVNode(\"div\", _hoisted_13, [\n                    _cache[6] || (_cache[6] = _createStaticVNode(\"<div class=\\\"stat-info text-purple-400\\\" data-v-0a8a4b1c><svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"14\\\" height=\\\"14\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" data-v-0a8a4b1c><path d=\\\"M12 2a8 8 0 1 0 8 8H4a8 8 0 1 0 8-8z\\\" data-v-0a8a4b1c></path><path d=\\\"M12 2v8\\\" data-v-0a8a4b1c></path><path d=\\\"m4.93 10.93 1.41 1.41\\\" data-v-0a8a4b1c></path><path d=\\\"m2 18 2 2\\\" data-v-0a8a4b1c></path><path d=\\\"m22 18-2 2\\\" data-v-0a8a4b1c></path><path d=\\\"m17.66 12.34 1.41-1.41\\\" data-v-0a8a4b1c></path></svg><span class=\\\"stat-label\\\" data-v-0a8a4b1c></span></div>\", 1)),\n                    _createElementVNode(\"span\", _hoisted_14, _toDisplayString(__props.stats.willpower), 1 /* TEXT */)\n                ])\n            ], 2 /* CLASS */));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./StatsPanel.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./StatsPanel.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./StatsPanel.vue?vue&type=style&index=0&id=0a8a4b1c&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.25_typescript@6.0.0-dev.20250807__webpack@5.103.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0a8a4b1c\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = { class: \"character-panel\" };\nconst _hoisted_2 = { class: \"name-text\" };\nconst _hoisted_3 = {\n    key: 0,\n    class: \"intention-hint\"\n};\nconst _hoisted_4 = { class: \"avatar-container\" };\nconst _hoisted_5 = [\"src\", \"alt\"];\nconst _hoisted_6 = {\n    key: 0,\n    class: \"mobile-warning\"\n};\nconst _hoisted_7 = { class: \"stats-overlay\" };\nconst _hoisted_8 = { class: \"bars-container\" };\nconst _hoisted_9 = { class: \"climax-bar\" };\nimport ProgressBar from './ProgressBar.vue';\nimport StatsPanel from './StatsPanel.vue';\nconst activityIcon = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"10\" height=\"10\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><polyline points=\"22 12 18 12 15 21 9 3 6 12 2 12\"/></svg>`;\nconst heartIcon = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"10\" height=\"10\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z\"/><path d=\"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27\"/></svg>`;\nconst zapIcon = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"10\" height=\"10\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><polygon points=\"13 2 3 14 12 14 11 22 21 10 12 10 13 2\"/></svg>`;\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'CharacterPanel',\n    props: {\n        character: {},\n        isEnemy: { type: Boolean },\n        turnState: {},\n        enemyIntention: {}\n    },\n    setup(__props) {\n        // SVG\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createCommentVNode(\"  \"),\n                _createElementVNode(\"div\", {\n                    class: _normalizeClass([\"name-badge\", __props.isEnemy ? 'badge-enemy' : 'badge-player'])\n                }, [\n                    _createElementVNode(\"span\", _hoisted_2, _toDisplayString(__props.character.name), 1 /* TEXT */),\n                    _createCommentVNode(\"  \"),\n                    (__props.isEnemy && __props.turnState.phase === 'playerInput' && __props.enemyIntention)\n                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n                            _cache[0] || (_cache[0] = _createElementVNode(\"span\", { class: \"intention-icon\" }, \"\", -1 /* CACHED */)),\n                            _createTextVNode(\" : \" + _toDisplayString(__props.enemyIntention.name), 1 /* TEXT */)\n                        ]))\n                        : _createCommentVNode(\"v-if\", true)\n                ], 2 /* CLASS */),\n                _createCommentVNode(\"  \"),\n                _createElementVNode(\"div\", _hoisted_4, [\n                    _createElementVNode(\"div\", {\n                        class: _normalizeClass([\"avatar-glow\", __props.isEnemy ? 'glow-enemy' : 'glow-player'])\n                    }, null, 2 /* CLASS */),\n                    _createElementVNode(\"img\", {\n                        src: __props.character.avatarUrl,\n                        alt: __props.character.name,\n                        class: _normalizeClass([\"avatar-image\", {\n                                'avatar-enemy': __props.isEnemy,\n                                'avatar-player': !__props.isEnemy,\n                                'avatar-pulse': __props.turnState.phase === 'processing' && !__props.isEnemy,\n                                'avatar-scale': __props.turnState.phase === 'enemyAction' && __props.isEnemy,\n                                'avatar-climax': __props.turnState.phase === 'climaxResolution' && __props.turnState.climaxTarget === (__props.isEnemy ? 'enemy' : 'player'),\n                            }])\n                    }, null, 10 /* CLASS, PROPS */, _hoisted_5),\n                    _createCommentVNode(\"  \"),\n                    (__props.isEnemy && __props.turnState.phase === 'playerInput' && __props.enemyIntention)\n                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [...(_cache[1] || (_cache[1] = [\n                                _createElementVNode(\"span\", null, \"!\", -1 /* CACHED */)\n                            ]))]))\n                        : _createCommentVNode(\"v-if\", true),\n                    _createCommentVNode(\"  \"),\n                    _createElementVNode(\"div\", _hoisted_7, [\n                        _cache[2] || (_cache[2] = _createElementVNode(\"div\", { class: \"overlay-title\" }, \"\", -1 /* CACHED */)),\n                        _createVNode(StatsPanel, {\n                            stats: __props.character.stats,\n                            compact: \"\"\n                        }, null, 8 /* PROPS */, [\"stats\"])\n                    ])\n                ]),\n                _createCommentVNode(\"  \"),\n                _createElementVNode(\"div\", _hoisted_8, [\n                    _createVNode(ProgressBar, {\n                        value: __props.character.stats.currentEndurance,\n                        max: __props.character.stats.maxEndurance,\n                        color: \"green\",\n                        label: \"\",\n                        \"show-value\": true,\n                        icon: activityIcon\n                    }, null, 8 /* PROPS */, [\"value\", \"max\"]),\n                    _createVNode(ProgressBar, {\n                        value: __props.character.stats.currentPleasure,\n                        max: __props.character.stats.maxPleasure,\n                        color: \"pink\",\n                        label: \"\",\n                        \"show-value\": true,\n                        icon: heartIcon\n                    }, null, 8 /* PROPS */, [\"value\", \"max\"]),\n                    _createElementVNode(\"div\", _hoisted_9, [\n                        _createVNode(ProgressBar, {\n                            value: __props.character.stats.climaxCount,\n                            max: __props.character.stats.maxClimaxCount,\n                            color: \"purple\",\n                            label: \"\",\n                            \"show-value\": true,\n                            icon: zapIcon\n                        }, null, 8 /* PROPS */, [\"value\", \"max\"])\n                    ])\n                ])\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./CharacterPanel.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./CharacterPanel.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./CharacterPanel.vue?vue&type=style&index=0&id=75f7a09e&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.25_typescript@6.0.0-dev.20250807__webpack@5.103.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-75f7a09e\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Transition as _Transition, withCtx as _withCtx, createVNode as _createVNode, Teleport as _Teleport, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = { class: \"effect-content\" };\nconst _hoisted_2 = { class: \"effect-icon\" };\nconst _hoisted_3 = { class: \"effect-text\" };\nimport { ref, watch } from 'vue';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'CombatEffect',\n    props: {\n        type: {},\n        show: { type: Boolean }\n    },\n    setup(__props) {\n        const props = __props;\n        const iconMap = {\n            critical: '',\n            dodge: '',\n            climax: '',\n            victory: '',\n            defeat: '',\n        };\n        const textMap = {\n            critical: '',\n            dodge: '',\n            climax: '',\n            victory: '',\n            defeat: '...',\n        };\n        const icon = ref(iconMap[props.type]);\n        const text = ref(textMap[props.type]);\n        const effectType = ref(props.type);\n        watch(() => props.type, newType => {\n            icon.value = iconMap[newType];\n            text.value = textMap[newType];\n            effectType.value = newType;\n        });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createBlock(_Teleport, { to: \"body\" }, [\n                _createVNode(_Transition, { name: \"effect-fade\" }, {\n                    default: _withCtx(() => [\n                        (__props.show)\n                            ? (_openBlock(), _createElementBlock(\"div\", {\n                                key: 0,\n                                class: _normalizeClass([\"combat-effect\", effectType.value])\n                            }, [\n                                _createElementVNode(\"div\", _hoisted_1, [\n                                    _createElementVNode(\"div\", _hoisted_2, _toDisplayString(icon.value), 1 /* TEXT */),\n                                    _createElementVNode(\"div\", _hoisted_3, _toDisplayString(text.value), 1 /* TEXT */)\n                                ])\n                            ], 2 /* CLASS */))\n                            : _createCommentVNode(\"v-if\", true)\n                    ]),\n                    _: 1 /* STABLE */\n                })\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./CombatEffect.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./CombatEffect.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./CombatEffect.vue?vue&type=style&index=0&id=6dadf61e&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.25_typescript@6.0.0-dev.20250807__webpack@5.103.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6dadf61e\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = { class: \"log-toggle\" };\nconst _hoisted_2 = {\n    key: 0,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"14\",\n    height: \"14\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    \"stroke-width\": \"2\"\n};\nconst _hoisted_3 = {\n    key: 1,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"14\",\n    height: \"14\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    \"stroke-width\": \"2\"\n};\nconst _hoisted_4 = {\n    key: 0,\n    class: \"log-preview\"\n};\nconst _hoisted_5 = { class: \"log-turn\" };\nconst _hoisted_6 = {\n    key: 0,\n    class: \"log-empty\"\n};\nconst _hoisted_7 = { class: \"log-turn\" };\nimport { ref, watch, nextTick } from 'vue';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'CombatLog',\n    props: {\n        logs: {}\n    },\n    setup(__props) {\n        const props = __props;\n        const isExpanded = ref(true);\n        const bottomRef = ref(null);\n        // \n        watch(() => props.logs.length, () => {\n            if (isExpanded.value) {\n                nextTick(() => {\n                    bottomRef.value?.scrollIntoView({ behavior: 'smooth' });\n                });\n            }\n        });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n                class: _normalizeClass([\"combat-log\", { 'log-expanded': isExpanded.value }])\n            }, [\n                _createCommentVNode(\"  \"),\n                _createElementVNode(\"div\", {\n                    class: \"log-header\",\n                    onClick: _cache[0] || (_cache[0] = ($event) => (isExpanded.value = !isExpanded.value))\n                }, [\n                    _cache[3] || (_cache[3] = _createElementVNode(\"div\", { class: \"log-title\" }, [\n                        _createElementVNode(\"svg\", {\n                            xmlns: \"http://www.w3.org/2000/svg\",\n                            width: \"12\",\n                            height: \"12\",\n                            viewBox: \"0 0 24 24\",\n                            fill: \"none\",\n                            stroke: \"currentColor\",\n                            \"stroke-width\": \"2\"\n                        }, [\n                            _createElementVNode(\"path\", { d: \"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\" })\n                        ]),\n                        _createElementVNode(\"span\", null, \"\")\n                    ], -1 /* CACHED */)),\n                    _createElementVNode(\"div\", _hoisted_1, [\n                        (isExpanded.value)\n                            ? (_openBlock(), _createElementBlock(\"svg\", _hoisted_2, [...(_cache[1] || (_cache[1] = [\n                                    _createElementVNode(\"path\", { d: \"m6 9 6 6 6-6\" }, null, -1 /* CACHED */)\n                                ]))]))\n                            : (_openBlock(), _createElementBlock(\"svg\", _hoisted_3, [...(_cache[2] || (_cache[2] = [\n                                    _createElementVNode(\"path\", { d: \"m18 15-6-6-6 6\" }, null, -1 /* CACHED */)\n                                ]))]))\n                    ])\n                ]),\n                _createCommentVNode(\"  \"),\n                (!isExpanded.value && __props.logs.length > 0)\n                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n                        _createElementVNode(\"span\", _hoisted_5, \"[\" + _toDisplayString(__props.logs[__props.logs.length - 1].turn) + \"]\", 1 /* TEXT */),\n                        _createTextVNode(\" \" + _toDisplayString(__props.logs[__props.logs.length - 1].message), 1 /* TEXT */)\n                    ]))\n                    : _createCommentVNode(\"v-if\", true),\n                _createCommentVNode(\"  \"),\n                _createElementVNode(\"div\", {\n                    class: _normalizeClass([\"log-content\", { 'log-hidden': !isExpanded.value }])\n                }, [\n                    (__props.logs.length === 0)\n                        ? (_openBlock(), _createElementBlock(\"p\", _hoisted_6, \"...\"))\n                        : _createCommentVNode(\"v-if\", true),\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.logs, (log) => {\n                        return (_openBlock(), _createElementBlock(\"div\", {\n                            key: log.id,\n                            class: _normalizeClass([\"log-entry\", {\n                                    'log-critical': log.type === 'critical',\n                                    'log-damage': log.type === 'damage',\n                                    'log-heal': log.type === 'heal',\n                                    'log-info': log.type === 'info',\n                                }])\n                        }, [\n                            _createElementVNode(\"span\", _hoisted_7, \"[\" + _toDisplayString(log.turn) + \"]\", 1 /* TEXT */),\n                            _createTextVNode(\" \" + _toDisplayString(log.message), 1 /* TEXT */)\n                        ], 2 /* CLASS */));\n                    }), 128 /* KEYED_FRAGMENT */)),\n                    _createElementVNode(\"div\", {\n                        ref_key: \"bottomRef\",\n                        ref: bottomRef\n                    }, null, 512 /* NEED_PATCH */)\n                ], 2 /* CLASS */)\n            ], 2 /* CLASS */));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./CombatLog.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./CombatLog.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./CombatLog.vue?vue&type=style&index=0&id=81b1ad36&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.25_typescript@6.0.0-dev.20250807__webpack@5.103.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-81b1ad36\"]])\n\nexport default __exports__","import type { Character, Skill, Item, CombatLogEntry } from './types';\n\n// \nconst createLog = (msg: string, source: string, type: CombatLogEntry['type'] = 'info'): CombatLogEntry => ({\n  id: Math.random().toString(36).substr(2, 9),\n  turn: 0,\n  message: msg,\n  source,\n  type,\n});\n\n// ---  ---\nexport const PLAYER_SKILLS: Skill[] = [\n  {\n    id: 's1',\n    name: '',\n    description: '',\n    cost: 5,\n    type: 'attack',\n    cooldown: 0,\n    currentCooldown: 0,\n    effect: (user, target) => {\n      const dmg = Math.floor(user.stats.charm * 1.5 + user.stats.sexPower * 0.5);\n      target.stats.currentPleasure += dmg;\n      return createLog(`${user.name}  [] ${dmg} `, 'player', 'damage');\n    },\n  },\n  {\n    id: 's2',\n    name: '',\n    description: '',\n    cost: 15,\n    type: 'buff',\n    cooldown: 3,\n    currentCooldown: 0,\n    effect: (user, _target) => {\n      return createLog(`${user.name}  []`, 'player', 'info');\n    },\n  },\n  {\n    id: 's3',\n    name: '',\n    description: '',\n    cost: 40,\n    type: 'ultimate',\n    cooldown: 5,\n    currentCooldown: 0,\n    effect: (user, target) => {\n      const dmg = Math.floor(user.stats.sexPower * 3.5);\n      target.stats.currentPleasure += dmg;\n      return createLog(`${user.name}  [] ${dmg} `, 'player', 'critical');\n    },\n  },\n];\n\n// ---  ---\nexport const ENEMY_SKILLS: Skill[] = [\n  {\n    id: 'e1',\n    name: '',\n    description: '',\n    cost: 0,\n    type: 'attack',\n    cooldown: 0,\n    currentCooldown: 0,\n    effect: (user, target) => {\n      const dmg = 15;\n      target.stats.currentEndurance -= dmg;\n      return createLog(`${user.name}  [] ${dmg}`, 'enemy', 'damage');\n    },\n  },\n  {\n    id: 'e2',\n    name: '',\n    description: '',\n    cost: 0,\n    type: 'debuff',\n    cooldown: 2,\n    currentCooldown: 0,\n    effect: (user, target) => {\n      const dmg = 10;\n      target.stats.currentEndurance -= dmg;\n      return createLog(`${user.name}  [] ${dmg} `, 'enemy', 'damage');\n    },\n  },\n  {\n    id: 'e3',\n    name: '',\n    description: '',\n    cost: 0,\n    type: 'attack',\n    cooldown: 3,\n    currentCooldown: 0,\n    effect: (user, target) => {\n      const dmg = 25;\n      target.stats.currentPleasure += dmg;\n      return createLog(`${user.name}  [] ${dmg} `, 'enemy', 'damage');\n    },\n  },\n];\n\n// ---  ---\nexport const PLAYER_ITEMS: Item[] = [\n  {\n    id: 'i1',\n    name: '',\n    description: ' 30 ',\n    quantity: 3,\n    staminaRestore: 30,\n    effect: (user, _target) => {\n      user.stats.currentEndurance = Math.min(user.stats.maxEndurance, user.stats.currentEndurance + 30);\n      return createLog(`${user.name}  []`, 'player', 'heal');\n    },\n  },\n  {\n    id: 'i2',\n    name: '',\n    description: ' 20 ',\n    quantity: 2,\n    pleasureReduce: 20,\n    effect: (user, _target) => {\n      user.stats.currentPleasure = Math.max(0, user.stats.currentPleasure - 20);\n      return createLog(`${user.name}  []`, 'player', 'heal');\n    },\n  },\n];\n\n// ---  ---\nexport function createDefaultPlayer(): Character {\n  return {\n    id: 'player',\n    name: '',\n    avatarUrl: 'https://picsum.photos/400/600?random=1',\n    isPlayer: true,\n    statusEffects: [],\n    items: PLAYER_ITEMS.map(i => ({ ...i })),\n    skills: PLAYER_SKILLS.map(s => ({ ...s })),\n    stats: {\n      maxEndurance: 100,\n      currentEndurance: 100,\n      maxPleasure: 100,\n      currentPleasure: 0,\n      willpower: 100,\n      baseWillpower: 100,\n      climaxCount: 0,\n      maxClimaxCount: 3,\n      sexPower: 25,\n      baseEndurance: 15,\n      evasion: 10,\n      crit: 5,\n      charm: 30,\n      luck: 15,\n    },\n  };\n}\n\nexport function createDefaultEnemy(): Character {\n  return {\n    id: 'enemy',\n    name: '',\n    avatarUrl: 'https://picsum.photos/400/600?random=2',\n    isPlayer: false,\n    statusEffects: [],\n    items: [],\n    skills: ENEMY_SKILLS.map(s => ({ ...s })),\n    stats: {\n      maxEndurance: 150,\n      currentEndurance: 150,\n      maxPleasure: 100,\n      currentPleasure: 0,\n      willpower: 80,\n      baseWillpower: 80,\n      climaxCount: 0,\n      maxClimaxCount: 3,\n      sexPower: 20,\n      baseEndurance: 20,\n      evasion: 5,\n      crit: 10,\n      charm: 10,\n      luck: 5,\n    },\n  };\n}\n\n// ---  ---\nexport const CLIMAX_TEXTS = [\n  (name: string) => `${name} ...`,\n  (name: string) => ` ${name} ...`,\n  (name: string) => `${name} ...`,\n];\n","import { defineComponent as _defineComponent } from 'vue';\nimport { createCommentVNode as _createCommentVNode, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, createTextVNode as _createTextVNode, createBlock as _createBlock, Transition as _Transition, Teleport as _Teleport, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = { class: \"combat-wrapper\" };\nconst _hoisted_2 = { class: \"combat-header\" };\nconst _hoisted_3 = { class: \"header-right\" };\nconst _hoisted_4 = { class: \"turn-counter\" };\nconst _hoisted_5 = { class: \"phase-indicator\" };\nconst _hoisted_6 = { class: \"combat-arena\" };\nconst _hoisted_7 = { class: \"combat-footer\" };\nconst _hoisted_8 = { class: \"footer-content\" };\nconst _hoisted_9 = { class: \"log-section\" };\nconst _hoisted_10 = { class: \"action-section\" };\nconst _hoisted_11 = {\n    key: 0,\n    class: \"action-header\"\n};\nconst _hoisted_12 = {\n    key: 1,\n    class: \"action-header\"\n};\nconst _hoisted_13 = { class: \"waiting-text\" };\nconst _hoisted_14 = { class: \"action-grid\" };\nconst _hoisted_15 = {\n    key: 0,\n    class: \"processing-overlay\"\n};\nconst _hoisted_16 = {\n    key: \"main\",\n    class: \"menu-main\"\n};\nconst _hoisted_17 = {\n    key: \"skills\",\n    class: \"menu-skills\"\n};\nconst _hoisted_18 = {\n    key: 0,\n    class: \"cooldown-overlay\"\n};\nconst _hoisted_19 = { class: \"cooldown-count\" };\nconst _hoisted_20 = { class: \"skill-header\" };\nconst _hoisted_21 = { class: \"skill-desc\" };\nconst _hoisted_22 = {\n    key: 1,\n    class: \"skill-effect\"\n};\nconst _hoisted_23 = { class: \"effect-value\" };\nconst _hoisted_24 = {\n    key: \"items\",\n    class: \"menu-items\"\n};\nconst _hoisted_25 = { class: \"item-header\" };\nconst _hoisted_26 = { class: \"item-name\" };\nconst _hoisted_27 = { class: \"item-quantity\" };\nconst _hoisted_28 = { class: \"item-desc\" };\nconst _hoisted_29 = {\n    key: 0,\n    class: \"item-effect\"\n};\nconst _hoisted_30 = {\n    key: 0,\n    class: \"effect-stamina\"\n};\nconst _hoisted_31 = {\n    key: 1,\n    class: \"effect-pleasure\"\n};\nconst _hoisted_32 = {\n    key: 1,\n    class: \"empty-items\"\n};\nconst _hoisted_33 = {\n    key: 0,\n    class: \"result-overlay\"\n};\nconst _hoisted_34 = { class: \"result-content\" };\nimport { onMounted, reactive, ref, watch } from 'vue';\nimport BackgroundAmbience from './components/BackgroundAmbience.vue';\nimport Card from './components/Card.vue';\nimport CharacterPanel from './components/CharacterPanel.vue';\nimport CombatEffect from './components/CombatEffect.vue';\nimport CombatLog from './components/CombatLog.vue';\nimport { createDefaultEnemy, createDefaultPlayer } from './constants';\n// =================  =================\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'app',\n    setup(__props) {\n        const player = ref(createDefaultPlayer());\n        const enemy = ref(createDefaultEnemy());\n        const turnState = reactive({\n            currentTurn: 1,\n            phase: 'playerInput',\n            enemyIntention: null,\n            climaxTarget: null,\n        });\n        const logs = ref([]);\n        const activeMenu = ref('main');\n        const allowSurrender = ref(true); // truefalse\n        const playerBoundTurns = ref(0); // \n        const enemyBoundTurns = ref(0); // \n        // \n        const effectType = ref(null);\n        const showEffect = ref(false);\n        // ================= MVU  =================\n        // \n        function getUserName() {\n            try {\n                // 1\n                if (typeof getChatMessages === 'function') {\n                    const messages = getChatMessages(-1, { role: 'user' });\n                    if (messages && messages.length > 0) {\n                        const lastUserMessage = messages[messages.length - 1];\n                        if (lastUserMessage?.name) {\n                            return lastUserMessage.name;\n                        }\n                    }\n                }\n                // 2\n                const globalAny = window;\n                if (globalAny.chat?.characters && globalAny.chat.characters.length > 0) {\n                    // \n                    const userChar = globalAny.chat.characters.find((c) => c.is_user || c.role === 'user');\n                    if (userChar?.name) {\n                        return userChar.name;\n                    }\n                }\n                // 3SillyTavern\n                if (globalAny.SillyTavern?.chat?.characters) {\n                    const userChar = globalAny.SillyTavern.chat.characters.find((c) => c.is_user || c.role === 'user');\n                    if (userChar?.name) {\n                        return userChar.name;\n                    }\n                }\n            }\n            catch (e) {\n                console.warn('[] ', e);\n            }\n            // \n            return '';\n        }\n        async function loadFromMvu() {\n            try {\n                await waitGlobalInitialized('Mvu');\n                const mvuData = Mvu.getMvuData({ type: 'message', message_id: 'latest' });\n                if (!mvuData?.stat_data)\n                    return;\n                const data = mvuData.stat_data;\n                // \n                const userName = getUserName();\n                player.value.name = userName;\n                //  ()\n                const maxClimaxCount = _.get(data, '..', 3);\n                //  - \n                player.value.stats.maxEndurance = _.get(data, '.$', 100);\n                player.value.stats.currentEndurance = _.get(data, '.$', 100);\n                player.value.stats.maxPleasure = _.get(data, '.$', 100);\n                player.value.stats.currentPleasure = _.get(data, '.$', 0);\n                player.value.stats.willpower = _.get(data, '.', 100);\n                player.value.stats.baseWillpower = _.get(data, '.$', 100);\n                player.value.stats.charm = _.get(data, '._', 10);\n                player.value.stats.luck = _.get(data, '._', 10);\n                player.value.stats.evasion = _.get(data, '._', 0);\n                player.value.stats.crit = _.get(data, '._', 0);\n                //  - \n                player.value.stats.sexPower = _.get(data, '.', 25);\n                player.value.stats.baseEndurance = _.get(data, '.', 15);\n                player.value.stats.climaxCount = _.get(data, '.', 0);\n                player.value.stats.maxClimaxCount = maxClimaxCount;\n                //  - .\n                const availableSkills = _.get(data, '.', {});\n                const skillIds = Object.keys(availableSkills);\n                if (skillIds.length > 0) {\n                    const { getSkillById } = await import('./skillDatabase');\n                    const { DamageSource } = await import('./types');\n                    player.value.skills = skillIds\n                        .map(skillId => {\n                        const skillData = getSkillById(skillId);\n                        if (!skillData) {\n                            // MVU\n                            const mvuSkill = availableSkills[skillId];\n                            if (mvuSkill && mvuSkill.) {\n                                // MVU\n                                let effectDesc = '';\n                                const damageInfo = mvuSkill. || {};\n                                if (damageInfo) {\n                                    const sourceName = damageInfo. || '';\n                                    const coefficient = damageInfo. || 100;\n                                    effectDesc = `${coefficient}%${sourceName}`;\n                                    // \n                                    if (damageInfo. && Object.keys(damageInfo.).length > 0) {\n                                        const effects = Object.values(damageInfo.).map((eff) => {\n                                            const value = eff. ? `${eff.}%` : eff.;\n                                            return `${eff.}+${value}`;\n                                        });\n                                        effectDesc += `${effects.join('')}`;\n                                    }\n                                }\n                                // \n                                const damageSource = damageInfo. || '';\n                                const coefficient = (damageInfo. || 100) / 100; // 100% = 1.0\n                                // DamageSourceDamageSource\n                                let source;\n                                switch (damageSource) {\n                                    case '':\n                                        source = 'sex_power'; // DamageSource.SEX_POWER\n                                        break;\n                                    case '':\n                                        source = 'charm'; // DamageSource.CHARM\n                                        break;\n                                    case '':\n                                        source = 'luck'; // DamageSource.LUCK\n                                        break;\n                                    case '':\n                                        source = 'willpower'; // DamageSource.WILLPOWER\n                                        break;\n                                    case '':\n                                        source = 'fixed'; // DamageSource.FIXED\n                                        break;\n                                    default:\n                                        source = 'sex_power';\n                                }\n                                // \n                                const damageFormula = [\n                                    {\n                                        source: source,\n                                        coefficient: coefficient,\n                                        baseValue: 0,\n                                    },\n                                ];\n                                // SkillData\n                                const basicSkillData = {\n                                    id: skillId,\n                                    name: mvuSkill.. || skillId,\n                                    description: mvuSkill.. || '',\n                                    effectDescription: effectDesc,\n                                    type: 'attack',\n                                    staminaCost: mvuSkill.?. || 0,\n                                    cooldown: mvuSkill.?. || 0,\n                                    castTime: 0,\n                                    damageFormula: damageFormula,\n                                    accuracy: mvuSkill.?. || 100,\n                                    critModifier: 0,\n                                    buffs: [],\n                                    canBeReflected: false,\n                                    hitCount: 1,\n                                };\n                                return {\n                                    id: skillId,\n                                    name: mvuSkill.. || skillId,\n                                    description: mvuSkill.. || '',\n                                    cost: mvuSkill.?. || 0,\n                                    type: 'attack',\n                                    cooldown: mvuSkill.?. || 0,\n                                    currentCooldown: 0,\n                                    data: basicSkillData,\n                                };\n                            }\n                            return null;\n                        }\n                        //  - Schema\n                        // MVU0\n                        const currentCooldown = 0;\n                        return {\n                            id: skillData.id,\n                            name: skillData.name,\n                            description: skillData.description,\n                            cost: skillData.staminaCost,\n                            type: skillData.type,\n                            cooldown: skillData.cooldown,\n                            currentCooldown,\n                            data: skillData,\n                        };\n                    })\n                        .filter(skill => skill !== null);\n                    console.info('[] :', player.value.skills.map((s) => s.name));\n                }\n                // \n                const enemyName = _.get(data, '.', '');\n                console.info('[] :', enemyName);\n                // MVUMVUMVU\n                await loadEnemyFromMvuData(data, maxClimaxCount);\n                //  - .\"\"true\n                const backpack = _.get(data, '.', {});\n                const combatItems = _.get(data, '.', {});\n                // \"\"true\n                const combatUsableItems = [];\n                Object.entries(backpack).forEach(([itemId, itemData]) => {\n                    // true\n                    if (itemData?. === '' && itemData?. === true) {\n                        // \n                        const quantity = itemData?. || combatItems[itemId] || 0;\n                        if (quantity > 0) {\n                            // ID\n                            let itemName = itemId;\n                            if (itemData?.) {\n                                // \"\"\" \"\n                                const nameMatch = itemData..match(/^([^:]+)/);\n                                if (nameMatch) {\n                                    itemName = nameMatch[1].trim();\n                                }\n                                else {\n                                    itemName = itemData.;\n                                }\n                            }\n                            // Item\n                            const item = {\n                                id: itemId,\n                                name: itemName,\n                                description: itemData?. || '',\n                                quantity: quantity,\n                                staminaRestore: itemData?.,\n                                pleasureReduce: itemData?.,\n                                effect: (user, target) => {\n                                    // \n                                    let message = `${user.name}  ${item.name}`;\n                                    // \n                                    if (itemData?.) {\n                                        const oldEndurance = user.stats.currentEndurance;\n                                        user.stats.currentEndurance = Math.min(user.stats.maxEndurance, user.stats.currentEndurance + itemData.);\n                                        const actualHeal = user.stats.currentEndurance - oldEndurance;\n                                        if (actualHeal > 0) {\n                                            message += ` ${actualHeal} `;\n                                        }\n                                    }\n                                    // \n                                    if (itemData?.) {\n                                        const oldPleasure = user.stats.currentPleasure;\n                                        user.stats.currentPleasure = Math.max(0, user.stats.currentPleasure - itemData.);\n                                        const actualReduce = oldPleasure - user.stats.currentPleasure;\n                                        if (actualReduce > 0) {\n                                            message += ` ${actualReduce} `;\n                                        }\n                                    }\n                                    return {\n                                        id: Math.random().toString(36).substr(2, 9),\n                                        turn: turnState.currentTurn,\n                                        message: message + '',\n                                        source: 'player',\n                                        type: 'heal',\n                                    };\n                                },\n                            };\n                            combatUsableItems.push(item);\n                        }\n                    }\n                });\n                // \n                if (combatUsableItems.length > 0) {\n                    player.value.items = combatUsableItems;\n                    console.info('[] :', combatUsableItems.map(i => `${i.name} x${i.quantity}`));\n                }\n                else {\n                    // \n                    player.value.items = [];\n                    console.info('[] ');\n                }\n                // \n                const tempBonus = _.get(data, '.', {});\n                const permBonus = _.get(data, '.', {});\n                const equipBonus = _.get(data, '.', {});\n                // \n                // \n                // truefalse\n                const surrenderAllowed = _.get(data, '..', true);\n                allowSurrender.value = !surrenderAllowed; // truefalse\n                // \n                turnState.currentTurn = _.get(data, '.', 1);\n                console.info('[] MVU');\n            }\n            catch (e) {\n                console.warn('[] MVU', e);\n            }\n        }\n        // MVU\n        async function loadEnemyFromMvuData(data, maxClimaxCount) {\n            const enemyName = _.get(data, '.', '');\n            if (enemyName)\n                enemy.value.name = enemyName;\n            // MVU\n            if (enemyName) {\n                try {\n                    const { getEnemyMvuData } = await import('./enemyDatabase');\n                    const presetData = getEnemyMvuData(enemyName);\n                    if (presetData) {\n                        console.info(`[] MVU: ${enemyName}`);\n                        // MVU\n                        if (typeof Mvu !== 'undefined') {\n                            const mvuData = Mvu.getMvuData({ type: 'message', message_id: 'latest' });\n                            if (mvuData?.stat_data) {\n                                // \n                                _.set(mvuData.stat_data, '.', enemyName);\n                                // \n                                _.set(mvuData.stat_data, '.', presetData.);\n                                _.set(mvuData.stat_data, '.', presetData.);\n                                _.set(mvuData.stat_data, '.', presetData.);\n                                _.set(mvuData.stat_data, '.', presetData.);\n                                _.set(mvuData.stat_data, '.', presetData.);\n                                _.set(mvuData.stat_data, '.', presetData.);\n                                _.set(mvuData.stat_data, '.', presetData.);\n                                _.set(mvuData.stat_data, '.', presetData.);\n                                _.set(mvuData.stat_data, '.', presetData.);\n                                _.set(mvuData.stat_data, '.', presetData.);\n                                _.set(mvuData.stat_data, '.', presetData.);\n                                _.set(mvuData.stat_data, '.', presetData.);\n                                // \n                                if (!_.get(mvuData.stat_data, '.')) {\n                                    _.set(mvuData.stat_data, '.', {\n                                        : {},\n                                        : {},\n                                    });\n                                }\n                                else {\n                                    // \n                                    if (!_.get(mvuData.stat_data, '..')) {\n                                        _.set(mvuData.stat_data, '..', {});\n                                    }\n                                    if (!_.get(mvuData.stat_data, '..')) {\n                                        _.set(mvuData.stat_data, '..', {});\n                                    }\n                                }\n                                // \n                                _.set(mvuData.stat_data, '.', presetData. || {});\n                                // MVU\n                                if (!_.get(mvuData.stat_data, '.')) {\n                                    _.set(mvuData.stat_data, '.', {});\n                                }\n                                await Mvu.replaceMvuData(mvuData, { type: 'message', message_id: 'latest' });\n                                console.info(`[] MVU: ${enemyName}`);\n                                // \n                                const updatedMvuData = Mvu.getMvuData({ type: 'message', message_id: 'latest' });\n                                if (updatedMvuData?.stat_data) {\n                                    data = updatedMvuData.stat_data;\n                                }\n                            }\n                        }\n                    }\n                    else {\n                        console.info(`[] : ${enemyName}MVU`);\n                        // MVU\n                        if (typeof Mvu !== 'undefined') {\n                            const mvuData = Mvu.getMvuData({ type: 'message', message_id: 'latest' });\n                            if (mvuData?.stat_data) {\n                                _.set(mvuData.stat_data, '.', enemyName);\n                                // \n                                if (!_.get(mvuData.stat_data, '.')) {\n                                    _.set(mvuData.stat_data, '.', {\n                                        : {},\n                                        : {},\n                                    });\n                                }\n                                // \n                                if (!_.get(mvuData.stat_data, '.')) {\n                                    _.set(mvuData.stat_data, '.', {});\n                                }\n                                // \n                                if (!_.get(mvuData.stat_data, '.')) {\n                                    _.set(mvuData.stat_data, '.', {});\n                                }\n                                await Mvu.replaceMvuData(mvuData, { type: 'message', message_id: 'latest' });\n                            }\n                        }\n                    }\n                }\n                catch (e) {\n                    console.warn('[] ', e);\n                }\n            }\n            enemy.value.stats.maxEndurance = _.get(data, '.', 150);\n            enemy.value.stats.currentEndurance = _.get(data, '.', 150);\n            enemy.value.stats.maxPleasure = _.get(data, '.', 100);\n            enemy.value.stats.currentPleasure = _.get(data, '.', 0);\n            enemy.value.stats.climaxCount = _.get(data, '.', 0);\n            enemy.value.stats.maxClimaxCount = maxClimaxCount; // \n            enemy.value.stats.sexPower = _.get(data, '.', 20);\n            enemy.value.stats.baseEndurance = _.get(data, '.', 20);\n            enemy.value.stats.charm = _.get(data, '.', 10);\n            enemy.value.stats.luck = _.get(data, '.', 5);\n            enemy.value.stats.evasion = _.get(data, '.', 5);\n            enemy.value.stats.crit = _.get(data, '.', 10);\n            enemy.value.stats.willpower = _.get(data, '.', 100);\n            enemy.value.stats.baseWillpower = _.get(data, '.', 100);\n            //  - .\n            const enemySkills = _.get(data, '.', {});\n            const enemySkillIds = Object.keys(enemySkills);\n            console.info('[] MVUID:', enemySkillIds);\n            if (enemySkillIds.length > 0) {\n                const { getSkillById } = require('./skillDatabase');\n                enemy.value.skills = enemySkillIds\n                    .map((skillId) => {\n                    const skillData = getSkillById(skillId);\n                    const mvuSkill = enemySkills[skillId];\n                    if (!skillData && mvuSkill) {\n                        const skillName = mvuSkill.?. || skillId;\n                        // MVU\n                        return {\n                            id: skillId,\n                            name: skillName,\n                            description: mvuSkill.?. || '',\n                            cost: mvuSkill.?. || 0,\n                            type: 'attack',\n                            cooldown: mvuSkill.?. || 0,\n                            currentCooldown: _.get(data, `..${skillId}`, 0),\n                            data: null,\n                        };\n                    }\n                    if (!skillData)\n                        return null;\n                    const currentCooldown = _.get(data, `..${skillId}`, 0);\n                    return {\n                        id: skillData.id,\n                        name: skillData.name,\n                        description: skillData.description,\n                        cost: skillData.staminaCost,\n                        type: skillData.type,\n                        cooldown: skillData.cooldown,\n                        currentCooldown,\n                        data: skillData,\n                    };\n                })\n                    .filter((skill) => skill !== null);\n                console.info('[] :', enemy.value.skills.map((s) => `${s.name}(${s.id})`));\n            }\n            else {\n                console.warn('[] .');\n            }\n        }\n        // MVU\n        async function saveMvuEnemyData() {\n            try {\n                if (typeof Mvu === 'undefined')\n                    return;\n                const mvuData = Mvu.getMvuData({ type: 'message', message_id: 'latest' });\n                if (!mvuData)\n                    return;\n                // \n                _.set(mvuData.stat_data, '.', enemy.value.name);\n                _.set(mvuData.stat_data, '.', enemy.value.stats.maxEndurance);\n                _.set(mvuData.stat_data, '.', enemy.value.stats.currentEndurance);\n                _.set(mvuData.stat_data, '.', enemy.value.stats.maxPleasure);\n                _.set(mvuData.stat_data, '.', enemy.value.stats.currentPleasure);\n                _.set(mvuData.stat_data, '.', enemy.value.stats.climaxCount);\n                _.set(mvuData.stat_data, '.', enemy.value.stats.sexPower);\n                _.set(mvuData.stat_data, '.', enemy.value.stats.baseEndurance);\n                _.set(mvuData.stat_data, '.', enemy.value.stats.charm);\n                _.set(mvuData.stat_data, '.', enemy.value.stats.luck);\n                _.set(mvuData.stat_data, '.', enemy.value.stats.evasion);\n                _.set(mvuData.stat_data, '.', enemy.value.stats.crit);\n                _.set(mvuData.stat_data, '.', enemy.value.stats.willpower);\n                await Mvu.replaceMvuData(mvuData, { type: 'message', message_id: 'latest' });\n                console.info('[] MVU');\n            }\n            catch (e) {\n                console.warn('[] ', e);\n            }\n        }\n        async function saveToMvu() {\n            try {\n                if (typeof Mvu === 'undefined')\n                    return;\n                const mvuData = Mvu.getMvuData({ type: 'message', message_id: 'latest' });\n                if (!mvuData)\n                    return;\n                //  - Schema\n                // Schema\n                const playerSkillCooldowns = {};\n                player.value.skills.forEach(skill => {\n                    playerSkillCooldowns[skill.id] = skill.currentCooldown;\n                });\n                // \n                const enemySkillCooldowns = {};\n                enemy.value.skills.forEach(skill => {\n                    enemySkillCooldowns[skill.id] = skill.currentCooldown;\n                });\n                // \n                const combatItems = {};\n                player.value.items.forEach(item => {\n                    if (item.quantity > 0) {\n                        combatItems[item.id] = item.quantity;\n                    }\n                });\n                // \n                const actionLogs = {};\n                logs.value.forEach((log, index) => {\n                    const logKey = `${log.turn}_${index}`;\n                    const logValue = `[${log.turn}] ${log.source === 'player' ? player.value.name : log.source === 'enemy' ? enemy.value.name : ''}: ${log.message}`;\n                    actionLogs[logKey] = logValue;\n                });\n                const updates = {\n                    //  - \n                    '.$': player.value.stats.currentEndurance,\n                    '.$': player.value.stats.currentPleasure,\n                    '.': player.value.stats.willpower,\n                    '._': player.value.stats.charm,\n                    '._': player.value.stats.luck,\n                    '._': player.value.stats.evasion,\n                    '._': player.value.stats.crit,\n                    //  - \n                    '.': turnState.currentTurn,\n                    '.': player.value.stats.climaxCount,\n                    '.': player.value.stats.sexPower,\n                    '.': player.value.stats.baseEndurance,\n                    '.': actionLogs, // \n                    // Schema\n                    // \n                    '.': enemy.value.name,\n                    '.': enemy.value.stats.currentEndurance,\n                    '.': enemy.value.stats.maxEndurance,\n                    '.': enemy.value.stats.currentPleasure,\n                    '.': enemy.value.stats.maxPleasure,\n                    '.': enemy.value.stats.climaxCount,\n                    '.': enemy.value.stats.sexPower,\n                    '.': enemy.value.stats.baseEndurance,\n                    '.': enemy.value.stats.charm,\n                    '.': enemy.value.stats.luck,\n                    '.': enemy.value.stats.evasion,\n                    '.': enemy.value.stats.crit,\n                    '.': enemy.value.stats.willpower,\n                    '.': enemySkillCooldowns,\n                    '.': combatItems,\n                };\n                for (const [path, value] of Object.entries(updates)) {\n                    _.set(mvuData.stat_data, path, value);\n                }\n                await Mvu.replaceMvuData(mvuData, { type: 'message', message_id: 'latest' });\n            }\n            catch (e) {\n                console.warn('[] MVU', e);\n            }\n        }\n        // =================  =================\n        // \n        // effectKey -> { duration: number, applied: boolean, changeValue: number, effectType: string, isPercentage: boolean }\n        const appliedEffects = ref(new Map());\n        // MVU\n        async function applySkillEffectsFromMvu(skillId, isPlayerSkill) {\n            const logs = [];\n            try {\n                if (typeof Mvu === 'undefined') {\n                    console.warn('[] Mvu');\n                    return logs;\n                }\n                const mvuData = Mvu.getMvuData({ type: 'message', message_id: 'latest' });\n                if (!mvuData) {\n                    console.warn('[] MVU');\n                    return logs;\n                }\n                // MVU\n                const skillPath = `..${skillId}..`;\n                const effectList = _.get(mvuData.stat_data, skillPath, {});\n                if (!effectList || Object.keys(effectList).length === 0) {\n                    return logs;\n                }\n                // \n                for (const [effectName, effectData] of Object.entries(effectList)) {\n                    if (!effectData || typeof effectData !== 'object')\n                        continue;\n                    const effectType = _.get(effectData, '', '');\n                    const effectValue = _.get(effectData, '', 0);\n                    const isPercentage = _.get(effectData, '', false);\n                    const duration = _.get(effectData, '', 0);\n                    if (effectValue === 0 || duration === 0)\n                        continue;\n                    // \n                    // \n                    const isPositive = effectValue > 0;\n                    const isSelf = isPositive;\n                    const actualValue = Math.abs(effectValue);\n                    // \n                    const target = isPlayerSkill ? (isSelf ? player.value : enemy.value) : isSelf ? enemy.value : player.value;\n                    const targetName = target.name;\n                    // \n                    if (effectType === '') {\n                        if (isPlayerSkill) {\n                            if (isPositive) {\n                                enemyBoundTurns.value = duration;\n                                logs.push(`${enemy.value.name}  ${duration} `);\n                            }\n                            else {\n                                playerBoundTurns.value = duration;\n                                logs.push(`${player.value.name}  ${duration} `);\n                            }\n                        }\n                        else {\n                            if (isPositive) {\n                                playerBoundTurns.value = duration;\n                                logs.push(`${player.value.name}  ${duration} `);\n                            }\n                            else {\n                                enemyBoundTurns.value = duration;\n                                logs.push(`${enemy.value.name}  ${duration} `);\n                            }\n                        }\n                        continue;\n                    }\n                    // key\n                    const effectKey = `${effectType}_${skillId}_${isPlayerSkill ? 'player' : 'enemy'}_${isSelf ? 'self' : 'target'}`;\n                    // \n                    const existingEffect = appliedEffects.value.get(effectKey);\n                    if (existingEffect && existingEffect.applied) {\n                        // \n                        existingEffect.duration = duration;\n                        logs.push(`${targetName}  ${effectType}  ( ${duration} )`);\n                        continue; // \n                    }\n                    // \n                    let effectDelta = isPositive ? actualValue : -actualValue;\n                    let changeValue = 0; // \n                    if (effectType === '') {\n                        if (isPercentage) {\n                            const baseValue = target.stats.sexPower;\n                            changeValue = Math.floor((baseValue * effectDelta) / 100);\n                            target.stats.sexPower += changeValue;\n                            logs.push(`${targetName} ${effectDelta > 0 ? '+' : ''}${effectDelta}%  (${changeValue > 0 ? '+' : ''}${changeValue}) ( ${duration} )`);\n                        }\n                        else {\n                            changeValue = effectDelta;\n                            target.stats.sexPower += changeValue;\n                            logs.push(`${targetName} ${effectDelta > 0 ? '+' : ''}${effectDelta}  ( ${duration} )`);\n                        }\n                        // MVU\n                        if (target === enemy.value && typeof Mvu !== 'undefined') {\n                            const updateMvuData = Mvu.getMvuData({ type: 'message', message_id: 'latest' });\n                            if (updateMvuData?.stat_data) {\n                                const currentValue = _.get(updateMvuData.stat_data, '.', 0);\n                                _.set(updateMvuData.stat_data, '.', currentValue + changeValue);\n                                await Mvu.replaceMvuData(updateMvuData, { type: 'message', message_id: 'latest' });\n                            }\n                        }\n                    }\n                    else if (effectType === '') {\n                        if (isPercentage) {\n                            const baseValue = target.stats.baseEndurance;\n                            changeValue = Math.floor((baseValue * effectDelta) / 100);\n                            target.stats.baseEndurance += changeValue;\n                            logs.push(`${targetName} ${effectDelta > 0 ? '+' : ''}${effectDelta}%  (${changeValue > 0 ? '+' : ''}${changeValue}) ( ${duration} )`);\n                        }\n                        else {\n                            changeValue = effectDelta;\n                            target.stats.baseEndurance += changeValue;\n                            logs.push(`${targetName} ${effectDelta > 0 ? '+' : ''}${effectDelta}  ( ${duration} )`);\n                        }\n                        // MVU\n                        if (target === enemy.value && typeof Mvu !== 'undefined') {\n                            const updateMvuData = Mvu.getMvuData({ type: 'message', message_id: 'latest' });\n                            if (updateMvuData?.stat_data) {\n                                const currentValue = _.get(updateMvuData.stat_data, '.', 0);\n                                _.set(updateMvuData.stat_data, '.', currentValue + changeValue);\n                                await Mvu.replaceMvuData(updateMvuData, { type: 'message', message_id: 'latest' });\n                            }\n                        }\n                    }\n                    else if (effectType === '') {\n                        changeValue = effectDelta;\n                        target.stats.charm += changeValue;\n                        logs.push(`${targetName} ${effectDelta > 0 ? '+' : ''}${effectDelta}  ( ${duration} )`);\n                        // MVU\n                        if (target === enemy.value && typeof Mvu !== 'undefined') {\n                            const updateMvuData = Mvu.getMvuData({ type: 'message', message_id: 'latest' });\n                            if (updateMvuData?.stat_data) {\n                                const currentValue = _.get(updateMvuData.stat_data, '.', 0);\n                                _.set(updateMvuData.stat_data, '.', currentValue + changeValue);\n                                await Mvu.replaceMvuData(updateMvuData, { type: 'message', message_id: 'latest' });\n                            }\n                        }\n                    }\n                    else if (effectType === '') {\n                        changeValue = effectDelta;\n                        target.stats.luck += changeValue;\n                        logs.push(`${targetName} ${effectDelta > 0 ? '+' : ''}${effectDelta}  ( ${duration} )`);\n                        // MVU\n                        if (target === enemy.value && typeof Mvu !== 'undefined') {\n                            const updateMvuData = Mvu.getMvuData({ type: 'message', message_id: 'latest' });\n                            if (updateMvuData?.stat_data) {\n                                const currentValue = _.get(updateMvuData.stat_data, '.', 0);\n                                _.set(updateMvuData.stat_data, '.', currentValue + changeValue);\n                                await Mvu.replaceMvuData(updateMvuData, { type: 'message', message_id: 'latest' });\n                            }\n                        }\n                    }\n                    else if (effectType === '') {\n                        changeValue = effectDelta;\n                        target.stats.evasion += changeValue;\n                        logs.push(`${targetName} ${effectDelta > 0 ? '+' : ''}${effectDelta}  ( ${duration} )`);\n                        // MVU\n                        if (target === enemy.value && typeof Mvu !== 'undefined') {\n                            const updateMvuData = Mvu.getMvuData({ type: 'message', message_id: 'latest' });\n                            if (updateMvuData?.stat_data) {\n                                const currentValue = _.get(updateMvuData.stat_data, '.', 0);\n                                _.set(updateMvuData.stat_data, '.', currentValue + changeValue);\n                                await Mvu.replaceMvuData(updateMvuData, { type: 'message', message_id: 'latest' });\n                            }\n                        }\n                    }\n                    else if (effectType === '') {\n                        changeValue = effectDelta;\n                        target.stats.crit += changeValue;\n                        logs.push(`${targetName} ${effectDelta > 0 ? '+' : ''}${effectDelta}  ( ${duration} )`);\n                        // MVU\n                        if (target === enemy.value && typeof Mvu !== 'undefined') {\n                            const updateMvuData = Mvu.getMvuData({ type: 'message', message_id: 'latest' });\n                            if (updateMvuData?.stat_data) {\n                                const currentValue = _.get(updateMvuData.stat_data, '.', 0);\n                                _.set(updateMvuData.stat_data, '.', currentValue + changeValue);\n                                await Mvu.replaceMvuData(updateMvuData, { type: 'message', message_id: 'latest' });\n                            }\n                        }\n                    }\n                    else if (effectType === '') {\n                        changeValue = effectDelta;\n                        target.stats.willpower += changeValue;\n                        logs.push(`${targetName} ${effectDelta > 0 ? '+' : ''}${effectDelta}  ( ${duration} )`);\n                        // MVU\n                        if (target === enemy.value && typeof Mvu !== 'undefined') {\n                            const updateMvuData = Mvu.getMvuData({ type: 'message', message_id: 'latest' });\n                            if (updateMvuData?.stat_data) {\n                                const currentValue = _.get(updateMvuData.stat_data, '.', 0);\n                                _.set(updateMvuData.stat_data, '.', currentValue + changeValue);\n                                await Mvu.replaceMvuData(updateMvuData, { type: 'message', message_id: 'latest' });\n                            }\n                        }\n                    }\n                    else {\n                        console.warn(`[] : ${effectType}`);\n                        continue;\n                    }\n                    // \n                    appliedEffects.value.set(effectKey, { duration, applied: true, changeValue, effectType, isPercentage });\n                }\n            }\n            catch (e) {\n                console.error('[] ', e);\n                logs.push('');\n            }\n            return logs;\n        }\n        // MVU\n        async function updateStatusEffectsFromMvu() {\n            const logs = [];\n            try {\n                // \n                const effectsToRemove = [];\n                for (const [effectKey, effectInfo] of appliedEffects.value.entries()) {\n                    effectInfo.duration--;\n                    if (effectInfo.duration <= 0) {\n                        effectsToRemove.push(effectKey);\n                        // effectKey\n                        const parts = effectKey.split('_');\n                        if (parts.length >= 4) {\n                            const effectType = effectInfo.effectType;\n                            const isPlayerSkill = parts[2] === 'player';\n                            const isSelf = parts[3] === 'self';\n                            const target = isPlayerSkill ? (isSelf ? player.value : enemy.value) : isSelf ? enemy.value : player.value;\n                            const targetName = target.name;\n                            // \n                            const changeValue = effectInfo.changeValue;\n                            if (effectType === '') {\n                                target.stats.sexPower -= changeValue;\n                                // MVU\n                                if (target === enemy.value && typeof Mvu !== 'undefined') {\n                                    const updateMvuData = Mvu.getMvuData({ type: 'message', message_id: 'latest' });\n                                    if (updateMvuData?.stat_data) {\n                                        const currentValue = _.get(updateMvuData.stat_data, '.', 0);\n                                        _.set(updateMvuData.stat_data, '.', currentValue - changeValue);\n                                        await Mvu.replaceMvuData(updateMvuData, { type: 'message', message_id: 'latest' });\n                                    }\n                                }\n                            }\n                            else if (effectType === '') {\n                                target.stats.baseEndurance -= changeValue;\n                                // MVU\n                                if (target === enemy.value && typeof Mvu !== 'undefined') {\n                                    const updateMvuData = Mvu.getMvuData({ type: 'message', message_id: 'latest' });\n                                    if (updateMvuData?.stat_data) {\n                                        const currentValue = _.get(updateMvuData.stat_data, '.', 0);\n                                        _.set(updateMvuData.stat_data, '.', currentValue - changeValue);\n                                        await Mvu.replaceMvuData(updateMvuData, { type: 'message', message_id: 'latest' });\n                                    }\n                                }\n                            }\n                            else if (effectType === '') {\n                                target.stats.charm -= changeValue;\n                                // MVU\n                                if (target === enemy.value && typeof Mvu !== 'undefined') {\n                                    const updateMvuData = Mvu.getMvuData({ type: 'message', message_id: 'latest' });\n                                    if (updateMvuData?.stat_data) {\n                                        const currentValue = _.get(updateMvuData.stat_data, '.', 0);\n                                        _.set(updateMvuData.stat_data, '.', currentValue - changeValue);\n                                        await Mvu.replaceMvuData(updateMvuData, { type: 'message', message_id: 'latest' });\n                                    }\n                                }\n                            }\n                            else if (effectType === '') {\n                                target.stats.luck -= changeValue;\n                                // MVU\n                                if (target === enemy.value && typeof Mvu !== 'undefined') {\n                                    const updateMvuData = Mvu.getMvuData({ type: 'message', message_id: 'latest' });\n                                    if (updateMvuData?.stat_data) {\n                                        const currentValue = _.get(updateMvuData.stat_data, '.', 0);\n                                        _.set(updateMvuData.stat_data, '.', currentValue - changeValue);\n                                        await Mvu.replaceMvuData(updateMvuData, { type: 'message', message_id: 'latest' });\n                                    }\n                                }\n                            }\n                            else if (effectType === '') {\n                                target.stats.evasion -= changeValue;\n                                // MVU\n                                if (target === enemy.value && typeof Mvu !== 'undefined') {\n                                    const updateMvuData = Mvu.getMvuData({ type: 'message', message_id: 'latest' });\n                                    if (updateMvuData?.stat_data) {\n                                        const currentValue = _.get(updateMvuData.stat_data, '.', 0);\n                                        _.set(updateMvuData.stat_data, '.', currentValue - changeValue);\n                                        await Mvu.replaceMvuData(updateMvuData, { type: 'message', message_id: 'latest' });\n                                    }\n                                }\n                            }\n                            else if (effectType === '') {\n                                target.stats.crit -= changeValue;\n                                // MVU\n                                if (target === enemy.value && typeof Mvu !== 'undefined') {\n                                    const updateMvuData = Mvu.getMvuData({ type: 'message', message_id: 'latest' });\n                                    if (updateMvuData?.stat_data) {\n                                        const currentValue = _.get(updateMvuData.stat_data, '.', 0);\n                                        _.set(updateMvuData.stat_data, '.', currentValue - changeValue);\n                                        await Mvu.replaceMvuData(updateMvuData, { type: 'message', message_id: 'latest' });\n                                    }\n                                }\n                            }\n                            else if (effectType === '') {\n                                target.stats.willpower -= changeValue;\n                                // MVU\n                                if (target === enemy.value && typeof Mvu !== 'undefined') {\n                                    const updateMvuData = Mvu.getMvuData({ type: 'message', message_id: 'latest' });\n                                    if (updateMvuData?.stat_data) {\n                                        const currentValue = _.get(updateMvuData.stat_data, '.', 0);\n                                        _.set(updateMvuData.stat_data, '.', currentValue - changeValue);\n                                        await Mvu.replaceMvuData(updateMvuData, { type: 'message', message_id: 'latest' });\n                                    }\n                                }\n                            }\n                            logs.push(`${targetName}  ${getEffectTypeName(effectType)} `);\n                        }\n                    }\n                }\n                // \n                for (const key of effectsToRemove) {\n                    appliedEffects.value.delete(key);\n                }\n                // \n                if (typeof Mvu !== 'undefined') {\n                    const mvuData = Mvu.getMvuData({ type: 'message', message_id: 'latest' });\n                    if (mvuData?.stat_data) {\n                        const playerStatusList = _.get(mvuData.stat_data, '.', {});\n                        const updatedPlayerStatus = {};\n                        for (const [key, duration] of Object.entries(playerStatusList)) {\n                            const newDuration = duration - 1;\n                            if (newDuration > 0) {\n                                updatedPlayerStatus[key] = newDuration;\n                            }\n                            else {\n                                clearBonusFromStatus(key, '.', mvuData);\n                                const effectType = key.split('_')[0];\n                                logs.push(`${player.value.name}  ${getEffectTypeName(effectType)} `);\n                            }\n                        }\n                        _.set(mvuData.stat_data, '.', updatedPlayerStatus);\n                        await Mvu.replaceMvuData(mvuData, { type: 'message', message_id: 'latest' });\n                    }\n                }\n                // \n                if (playerBoundTurns.value > 0) {\n                    playerBoundTurns.value--;\n                    if (playerBoundTurns.value === 0) {\n                        logs.push(`${player.value.name} `);\n                    }\n                }\n                if (enemyBoundTurns.value > 0) {\n                    enemyBoundTurns.value--;\n                    if (enemyBoundTurns.value === 0) {\n                        logs.push(`${enemy.value.name} `);\n                    }\n                }\n            }\n            catch (e) {\n                console.error('[] ', e);\n            }\n            return logs;\n        }\n        // \n        // key\n        // statusKey_ID_____\n        // _ID____\n        function clearBonusFromStatus(statusKey, bonusPath, mvuData) {\n            try {\n                // key\n                const parts = statusKey.split('_');\n                // \n                let effectType, effectValue, isPositive, isPercentage;\n                if (parts.length >= 6) {\n                    // _ID_____\n                    effectType = parts[0];\n                    effectValue = parseFloat(parts[3]) || 0;\n                    const sign = parts[4];\n                    isPositive = sign === 'pos';\n                    isPercentage = parts[5] === 'pct';\n                }\n                else if (parts.length >= 5) {\n                    // _ID____\n                    effectType = parts[0];\n                    effectValue = parseFloat(parts[3]) || 0;\n                    isPercentage = parts[4] === 'pct';\n                    // \n                    const currentBonus = _.get(mvuData.stat_data, `${bonusPath}.${effectType === '' ? (isPercentage ? '' : '') : effectType === '' ? (isPercentage ? '' : '') : ''}`, 0);\n                    isPositive = currentBonus >= 0; // \n                    console.warn('[] key:', statusKey);\n                }\n                else {\n                    console.warn('[] key:', statusKey);\n                    return;\n                }\n                if (effectValue === 0) {\n                    return; // \n                }\n                // \n                let bonusField;\n                if (effectType === '') {\n                    bonusField = isPercentage ? '' : '';\n                }\n                else if (effectType === '') {\n                    bonusField = isPercentage ? '' : '';\n                }\n                else {\n                    const bonusFieldMap = {\n                        : '',\n                        : '',\n                        : '',\n                        : '',\n                        : '',\n                    };\n                    bonusField = bonusFieldMap[effectType];\n                }\n                if (!bonusField) {\n                    console.warn(`[] : ${effectType}`);\n                    return;\n                }\n                // \n                // newBonus = currentBonus + (isPositive ? actualValue : -actualValue)\n                // newBonus = currentBonus - (isPositive ? actualValue : -actualValue)\n                const currentBonus = _.get(mvuData.stat_data, `${bonusPath}.${bonusField}`, 0);\n                const newBonus = currentBonus - (isPositive ? effectValue : -effectValue);\n                _.set(mvuData.stat_data, `${bonusPath}.${bonusField}`, newBonus);\n                console.info(`[] ${effectType}: ${currentBonus} -> ${newBonus} (${isPositive ? '' : ''}${effectValue})`);\n            }\n            catch (e) {\n                console.error('[] ', e);\n            }\n        }\n        // \n        function getEffectTypeName(effectType) {\n            const names = {\n                : '',\n                : '',\n                : '',\n                : '',\n                : '',\n                : '',\n                : '',\n                : '',\n            };\n            return names[effectType] || effectType;\n        }\n        // MVUUI\n        async function reloadStatusFromMvu() {\n            try {\n                if (typeof Mvu === 'undefined') {\n                    return;\n                }\n                const mvuData = Mvu.getMvuData({ type: 'message', message_id: 'latest' });\n                if (!mvuData) {\n                    return;\n                }\n                const data = mvuData.stat_data;\n                // \n                const playerTempBonus = _.get(data, '.', {});\n                const playerPermBonus = _.get(data, '.', {});\n                const playerEquipBonus = _.get(data, '.', {});\n                // enemy.value\n                //  +  +  + \n                // \n                // \n                player.value.stats.sexPower = _.get(data, '.', 25);\n                player.value.stats.baseEndurance = _.get(data, '.', 15);\n                // \n                const playerBaseCharm = _.get(data, '.$', 10);\n                player.value.stats.charm =\n                    playerBaseCharm +\n                        _.get(playerTempBonus, '', 0) +\n                        _.get(playerPermBonus, '', 0) +\n                        _.get(playerEquipBonus, '', 0);\n                const playerBaseLuck = _.get(data, '.$', 10);\n                player.value.stats.luck =\n                    playerBaseLuck +\n                        _.get(playerTempBonus, '', 0) +\n                        _.get(playerPermBonus, '', 0) +\n                        _.get(playerEquipBonus, '', 0);\n                const playerBaseEvasion = _.get(data, '.$', 0);\n                player.value.stats.evasion =\n                    playerBaseEvasion +\n                        _.get(playerTempBonus, '', 0) +\n                        _.get(playerPermBonus, '', 0) +\n                        _.get(playerEquipBonus, '', 0);\n                const playerBaseCrit = _.get(data, '.$', 0);\n                player.value.stats.crit = Math.min(100, Math.max(0, playerBaseCrit +\n                    _.get(playerTempBonus, '', 0) +\n                    _.get(playerPermBonus, '', 0) +\n                    _.get(playerEquipBonus, '', 0)));\n                // MVU\n                // enemy.value\n                enemy.value.stats.sexPower = _.get(data, '.', 0);\n                enemy.value.stats.baseEndurance = _.get(data, '.', 0);\n                enemy.value.stats.charm = _.get(data, '.', 0);\n                enemy.value.stats.luck = _.get(data, '.', 0);\n                enemy.value.stats.evasion = _.get(data, '.', 0);\n                enemy.value.stats.crit = Math.min(100, Math.max(0, _.get(data, '.', 0)));\n            }\n            catch (e) {\n                console.error('[] ', e);\n            }\n        }\n        // \n        function triggerEffect(type) {\n            effectType.value = type;\n            showEffect.value = true;\n            setTimeout(() => {\n                showEffect.value = false;\n                setTimeout(() => {\n                    effectType.value = null;\n                }, 300);\n            }, 1500);\n        }\n        // \n        async function initializeCombatSystem() {\n            try {\n                if (typeof Mvu === 'undefined')\n                    return;\n                const mvuData = Mvu.getMvuData({ type: 'message', message_id: 'latest' });\n                if (!mvuData)\n                    return;\n                // \n                _.set(mvuData.stat_data, '.', 0);\n                _.set(mvuData.stat_data, '.', {});\n                _.set(mvuData.stat_data, '.', {});\n                _.set(mvuData.stat_data, '.', {});\n                // \n                // _.set(mvuData.stat_data, '.', '');\n                // _.set(mvuData.stat_data, '.', 0);\n                // ...\n                await Mvu.replaceMvuData(mvuData, { type: 'message', message_id: 'latest' });\n                console.info('[] ');\n            }\n            catch (e) {\n                console.error('[] ', e);\n            }\n        }\n        // \n        async function clearTemporaryStatus() {\n            try {\n                if (typeof Mvu === 'undefined') {\n                    return;\n                }\n                const mvuData = Mvu.getMvuData({ type: 'message', message_id: 'latest' });\n                if (!mvuData) {\n                    return;\n                }\n                // \n                _.set(mvuData.stat_data, '.', {});\n                _.set(mvuData.stat_data, '.', {\n                    : 0,\n                    : 0,\n                    : 0,\n                    : 0,\n                    : 0,\n                    : 0,\n                    : 0,\n                    : 0,\n                    : 0,\n                });\n                // enemy.value\n                // \n                appliedEffects.value.clear();\n                // \n                playerBoundTurns.value = 0;\n                enemyBoundTurns.value = 0;\n                // MVU\n                await Mvu.replaceMvuData(mvuData, { type: 'message', message_id: 'latest' });\n                addLog('', 'system', 'info');\n            }\n            catch (e) {\n                console.error('[] ', e);\n            }\n        }\n        function addLog(message, source, type = 'info') {\n            const logEntry = {\n                id: Math.random().toString(36).substr(2, 9),\n                turn: turnState.currentTurn,\n                message,\n                source,\n                type,\n            };\n            logs.value.push(logEntry);\n            // MVUUI\n            (async () => {\n                try {\n                    if (typeof Mvu !== 'undefined') {\n                        const mvuData = Mvu.getMvuData({ type: 'message', message_id: 'latest' });\n                        if (mvuData) {\n                            const logKey = `${turnState.currentTurn}_${Date.now()}`;\n                            const logValue = `[${logEntry.turn}] ${logEntry.source === 'player' ? player.value.name : logEntry.source === 'enemy' ? enemy.value.name : ''}: ${logEntry.message}`;\n                            const currentLogs = _.get(mvuData.stat_data, '.', {});\n                            const updatedLogs = { ...currentLogs, [logKey]: logValue };\n                            _.set(mvuData.stat_data, '.', updatedLogs);\n                            // UI\n                            await Mvu.replaceMvuData(mvuData, { type: 'message', message_id: 'latest' });\n                        }\n                    }\n                }\n                catch (e) {\n                    console.warn('[] ', e);\n                }\n            })();\n        }\n        function cloneCharacter(char) {\n            return {\n                ...char,\n                stats: { ...char.stats },\n                skills: char.skills.map(s => ({ ...s })),\n                items: char.items.map(i => ({ ...i })),\n                statusEffects: [...char.statusEffects],\n            };\n        }\n        function getPhaseText(phase) {\n            const texts = {\n                playerInput: '',\n                processing: '',\n                enemyAction: '',\n                victory: '',\n                defeat: '',\n                climaxResolution: '',\n            };\n            return texts[phase];\n        }\n        function isSkillDisabled(skill) {\n            return skill.currentCooldown > 0 || player.value.stats.currentEndurance < skill.cost;\n        }\n        // =================  =================\n        function determineEnemyIntention() {\n            // \n            //  . \n            if (enemy.value.skills.length === 0) {\n                console.warn('[] ');\n                turnState.enemyIntention = null;\n                return;\n            }\n            // ID\n            const validSkills = enemy.value.skills.filter(s => {\n                // ID\n                if (!s.id || !s.name) {\n                    console.warn('[] :', s);\n                    return false;\n                }\n                return true;\n            });\n            if (validSkills.length === 0) {\n                console.warn('[] ');\n                turnState.enemyIntention = null;\n                return;\n            }\n            // \n            const availableSkills = validSkills.filter(s => s.currentCooldown === 0);\n            const skillsToChoose = availableSkills.length > 0 ? availableSkills : validSkills;\n            if (skillsToChoose.length === 0) {\n                console.warn('[] ');\n                turnState.enemyIntention = null;\n                return;\n            }\n            const skill = skillsToChoose[Math.floor(Math.random() * skillsToChoose.length)];\n            console.info('[] :', skill.name, 'ID:', skill.id);\n            turnState.enemyIntention = skill;\n        }\n        function handlePlayerSkill(skill) {\n            if (turnState.phase !== 'playerInput')\n                return;\n            // \n            if (playerBoundTurns.value > 0) {\n                addLog(`${player.value.name} `, 'system', 'warn');\n                return;\n            }\n            // \n            if (player.value.stats.currentEndurance < skill.cost) {\n                addLog('', 'system', 'warn');\n                return;\n            }\n            if (isSkillDisabled(skill)) {\n                addLog(skill.currentCooldown > 0 ? '' : '', 'system', 'info');\n                return;\n            }\n            turnState.phase = 'processing';\n            const nextPlayer = cloneCharacter(player.value);\n            const nextEnemy = cloneCharacter(enemy.value);\n            // \n            nextPlayer.stats.currentEndurance -= skill.cost;\n            addLog(`${nextPlayer.name}  ${skill.cost} `, 'system', 'info');\n            // \n            const skillIndex = nextPlayer.skills.findIndex(s => s.id === skill.id);\n            if (skillIndex !== -1) {\n                nextPlayer.skills[skillIndex].currentCooldown = skill.cooldown;\n                if (skill.cooldown > 0) {\n                    addLog(`${skill.name}  ${skill.cooldown} `, 'system', 'info');\n                }\n            }\n            // \n            import('./combatCalculator').then(async ({ executeAttack, applySkillBuffs }) => {\n                try {\n                    // \n                    if (!skill.data) {\n                        addLog(` ${skill.name} `, 'system', 'error');\n                        turnState.phase = 'playerInput';\n                        return;\n                    }\n                    const result = executeAttack(nextPlayer, nextEnemy, skill.data);\n                    // \n                    addLog(`${nextPlayer.name}  ${skill.name}`, 'player', 'info');\n                    if (result.isDodged) {\n                        addLog(`${nextEnemy.name} `, 'system', 'info');\n                        triggerEffect('dodge');\n                    }\n                    else {\n                        // \n                        console.info('[]  - result.logs:', result.logs);\n                        if (result.logs && result.logs.length > 0) {\n                            result.logs.forEach(log => {\n                                addLog(log, 'system', 'info');\n                            });\n                        }\n                        else {\n                            console.warn('[]  - result.logs ');\n                        }\n                        if (result.isCritical) {\n                            addLog(` ${result.actualDamage} `, 'player', 'critical');\n                            triggerEffect('critical');\n                        }\n                        else {\n                            addLog(` ${result.actualDamage} `, 'player', 'damage');\n                        }\n                        // \n                        const oldPleasure = nextEnemy.stats.currentPleasure;\n                        nextEnemy.stats.currentPleasure = Math.min(nextEnemy.stats.maxPleasure, nextEnemy.stats.currentPleasure + result.actualDamage);\n                        addLog(`${nextEnemy.name}  ${oldPleasure}  ${nextEnemy.stats.currentPleasure}`, 'system', 'info');\n                        // buffMVU- \n                        try {\n                            const effectLogs = await applySkillEffectsFromMvu(skill.id, true);\n                            effectLogs.forEach(log => addLog(log, 'system', 'info'));\n                        }\n                        catch (e) {\n                            console.error('[] ', e);\n                            addLog('', 'system', 'warn');\n                        }\n                    }\n                    // \n                    player.value = nextPlayer;\n                    enemy.value = nextEnemy;\n                    // MVUUI\n                    await reloadStatusFromMvu();\n                    // \n                    saveToMvu();\n                    // \n                    if (nextEnemy.stats.currentPleasure >= nextEnemy.stats.maxPleasure && turnState.climaxTarget === null) {\n                        addLog(`${nextEnemy.name} `, 'system', 'critical');\n                        // \n                        addLog(`${nextEnemy.name}  ()`, 'system', 'info');\n                        triggerEffect('climax');\n                        await processClimaxAfterLLM(true);\n                    }\n                    else {\n                        // \n                        addLog(`---  ${nextEnemy.name}  ---`, 'system', 'info');\n                        setTimeout(handleEnemyTurn, 1000);\n                    }\n                }\n                catch (e) {\n                    console.error('[] ', e);\n                    addLog('', 'system', 'error');\n                    turnState.phase = 'playerInput';\n                }\n            });\n        }\n        async function handlePlayerItem(item) {\n            if (turnState.phase !== 'playerInput' || item.quantity <= 0) {\n                if (item.quantity <= 0) {\n                    addLog(`${item.name} `, 'system', 'info');\n                }\n                return;\n            }\n            // processing\n            const nextPlayer = cloneCharacter(player.value);\n            const nextEnemy = cloneCharacter(enemy.value);\n            const itemIndex = nextPlayer.items.findIndex(i => i.id === item.id);\n            if (itemIndex > -1) {\n                nextPlayer.items[itemIndex].quantity -= 1;\n                addLog(`${nextPlayer.name}  ${item.name}${nextPlayer.items[itemIndex].quantity}`, 'system', 'info');\n            }\n            // \n            const log = item.effect(nextPlayer, nextEnemy);\n            addLog(log.message, log.source, log.type);\n            // \n            if (item.staminaRestore) {\n                addLog(`${nextPlayer.name} ${player.value.stats.currentEndurance}  ${nextPlayer.stats.currentEndurance}`, 'system', 'info');\n            }\n            if (item.pleasureReduce) {\n                addLog(`${nextPlayer.name} ${player.value.stats.currentPleasure}  ${nextPlayer.stats.currentPleasure}`, 'system', 'info');\n            }\n            // \n            player.value = nextPlayer;\n            enemy.value = nextEnemy;\n            // MVUUI\n            await reloadStatusFromMvu();\n            // \n            activeMenu.value = 'main';\n            // MVU\n            saveToMvu();\n            addLog(`---  ${nextPlayer.name}  ---`, 'system', 'info');\n            // \n            // \n        }\n        function handleEnemyTurn() {\n            turnState.phase = 'enemyAction';\n            // \n            if (enemyBoundTurns.value > 0) {\n                addLog(`${enemy.value.name} `, 'system', 'warn');\n                setTimeout(startNewTurn, 1000);\n                return;\n            }\n            addLog(`${enemy.value.name} ...`, 'system', 'info');\n            setTimeout(() => {\n                // \n                if (!turnState.enemyIntention) {\n                    // \n                    determineEnemyIntention();\n                    addLog(`${enemy.value.name} `, 'system', 'info');\n                }\n                const nextPlayer = cloneCharacter(player.value);\n                const nextEnemy = cloneCharacter(enemy.value);\n                // \n                let skill = nextEnemy.skills.find(s => s.id === turnState.enemyIntention?.id);\n                // \n                if (!skill || skill.currentCooldown > 0) {\n                    const availableSkills = nextEnemy.skills.filter(s => s.currentCooldown === 0);\n                    if (availableSkills.length > 0) {\n                        skill = availableSkills[Math.floor(Math.random() * availableSkills.length)];\n                        addLog(`${nextEnemy.name}  ${skill.name}`, 'system', 'info');\n                    }\n                    else {\n                        // \n                        skill = nextEnemy.skills[0];\n                        addLog(`${nextEnemy.name}  ${skill.name}`, 'system', 'info');\n                    }\n                }\n                if (!skill) {\n                    addLog(`${nextEnemy.name} `, 'system', 'info');\n                    setTimeout(startNewTurn, 1000);\n                    return;\n                }\n                // \n                const skillCost = skill.data?.staminaCost || skill.cost || 0;\n                if (nextEnemy.stats.currentEndurance < skillCost) {\n                    addLog(`${nextEnemy.name}  ${skill.name}`, 'system', 'warn');\n                    setTimeout(startNewTurn, 1000);\n                    return;\n                }\n                // nullMVU\n                if (!skill.data) {\n                    try {\n                        if (typeof Mvu !== 'undefined') {\n                            const mvuData = Mvu.getMvuData({ type: 'message', message_id: 'latest' });\n                            if (mvuData) {\n                                const mvuSkill = _.get(mvuData.stat_data, `..${skill.id}`, null);\n                                if (mvuSkill && mvuSkill.) {\n                                    // MVUSkillData\n                                    const damageInfo = mvuSkill. || {};\n                                    // \n                                    const damageSource = damageInfo. || '';\n                                    const coefficient = (damageInfo. || 100) / 100; // 100% = 1.0\n                                    // DamageSource\n                                    let source;\n                                    switch (damageSource) {\n                                        case '':\n                                            source = 'sex_power'; // DamageSource.SEX_POWER\n                                            break;\n                                        case '':\n                                            source = 'charm'; // DamageSource.CHARM\n                                            break;\n                                        case '':\n                                            source = 'luck'; // DamageSource.LUCK\n                                            break;\n                                        case '':\n                                            source = 'willpower'; // DamageSource.WILLPOWER\n                                            break;\n                                        case '':\n                                            source = 'fixed'; // DamageSource.FIXED\n                                            break;\n                                        default:\n                                            source = 'sex_power';\n                                    }\n                                    // \n                                    const damageFormula = [\n                                        {\n                                            source: source,\n                                            coefficient: coefficient,\n                                            baseValue: 0,\n                                        },\n                                    ];\n                                    const basicSkillData = {\n                                        id: skill.id,\n                                        name: mvuSkill.. || skill.id,\n                                        description: mvuSkill.. || '',\n                                        effectDescription: '',\n                                        type: 'attack',\n                                        staminaCost: mvuSkill.?. || 0,\n                                        cooldown: mvuSkill.?. || 0,\n                                        castTime: 0,\n                                        damageFormula: damageFormula,\n                                        accuracy: damageInfo. || 100,\n                                        critModifier: 0,\n                                        buffs: [],\n                                        canBeReflected: false,\n                                        hitCount: 1,\n                                    };\n                                    skill.data = basicSkillData;\n                                    console.info('[] MVU:', skill.name, ':', damageFormula);\n                                }\n                            }\n                        }\n                    }\n                    catch (e) {\n                        console.error('[] ', e);\n                    }\n                }\n                // \n                nextEnemy.stats.currentEndurance -= skillCost;\n                addLog(`${nextEnemy.name}  ${skillCost} `, 'system', 'info');\n                // \n                const skillIndex = nextEnemy.skills.findIndex(s => s.id === skill.id);\n                if (skillIndex !== -1) {\n                    const cooldown = skill.data?.cooldown || skill.cooldown || 0;\n                    nextEnemy.skills[skillIndex].currentCooldown = cooldown;\n                    if (cooldown > 0) {\n                        addLog(`${skill.name}  ${cooldown} `, 'system', 'info');\n                    }\n                }\n                // \n                import('./combatCalculator').then(async ({ executeAttack, applySkillBuffs }) => {\n                    try {\n                        // \n                        if (!skill.data) {\n                            addLog(` ${skill.name} `, 'system', 'error');\n                            setTimeout(startNewTurn, 1000);\n                            return;\n                        }\n                        const result = executeAttack(nextEnemy, nextPlayer, skill.data);\n                        // \n                        addLog(`${nextEnemy.name}  ${skill.name}`, 'enemy', 'info');\n                        if (result.isDodged) {\n                            addLog(`${nextPlayer.name} `, 'system', 'info');\n                            triggerEffect('dodge');\n                        }\n                        else {\n                            // \n                            console.info('[]  - result.logs:', result.logs);\n                            if (result.logs && result.logs.length > 0) {\n                                result.logs.forEach(log => {\n                                    addLog(log, 'system', 'info');\n                                });\n                            }\n                            else {\n                                console.warn('[]  - result.logs ');\n                            }\n                            if (result.isCritical) {\n                                addLog(` ${result.actualDamage} `, 'enemy', 'critical');\n                                triggerEffect('critical');\n                            }\n                            else {\n                                addLog(` ${result.actualDamage} `, 'enemy', 'damage');\n                            }\n                            // \n                            const oldPleasure = nextPlayer.stats.currentPleasure;\n                            nextPlayer.stats.currentPleasure = Math.min(nextPlayer.stats.maxPleasure, nextPlayer.stats.currentPleasure + result.actualDamage);\n                            addLog(`${nextPlayer.name}  ${oldPleasure}  ${nextPlayer.stats.currentPleasure}`, 'system', 'info');\n                            // buffMVU- \n                            try {\n                                const effectLogs = await applySkillEffectsFromMvu(skill.id, false);\n                                effectLogs.forEach(log => addLog(log, 'system', 'info'));\n                            }\n                            catch (e) {\n                                console.error('[] ', e);\n                                addLog('', 'system', 'warn');\n                            }\n                        }\n                        // \n                        player.value = nextPlayer;\n                        enemy.value = nextEnemy;\n                        // MVUUI\n                        await reloadStatusFromMvu();\n                        // \n                        saveToMvu();\n                        // \n                        if (nextPlayer.stats.currentPleasure >= nextPlayer.stats.maxPleasure && turnState.climaxTarget === null) {\n                            addLog(`${nextPlayer.name} `, 'system', 'critical');\n                            // \n                            addLog(`${nextPlayer.name}  ()`, 'system', 'info');\n                            triggerEffect('climax');\n                            await processClimaxAfterLLM(false);\n                        }\n                        else {\n                            // +1\n                            setTimeout(startNewTurn, 1000);\n                        }\n                    }\n                    catch (e) {\n                        console.error('[] ', e);\n                        addLog('', 'system', 'error');\n                        setTimeout(startNewTurn, 1000);\n                    }\n                });\n            }, 1000);\n        }\n        function startNewTurn() {\n            turnState.currentTurn++;\n            addLog(`---  ${turnState.currentTurn}  ---`, 'system', 'info');\n            turnState.phase = 'playerInput';\n            // \n            determineEnemyIntention();\n            if (turnState.enemyIntention) {\n                addLog(`${enemy.value.name}  ${turnState.enemyIntention.name}`, 'system', 'info');\n            }\n            // 10\n            const oldPlayerEndurance = player.value.stats.currentEndurance;\n            player.value.stats.currentEndurance = Math.min(player.value.stats.maxEndurance, player.value.stats.currentEndurance + 10);\n            if (player.value.stats.currentEndurance > oldPlayerEndurance) {\n                addLog(`${player.value.name}  ${player.value.stats.currentEndurance - oldPlayerEndurance} `, 'system', 'info');\n            }\n            const oldEnemyEndurance = enemy.value.stats.currentEndurance;\n            enemy.value.stats.currentEndurance = Math.min(enemy.value.stats.maxEndurance, enemy.value.stats.currentEndurance + 10);\n            if (enemy.value.stats.currentEndurance > oldEnemyEndurance) {\n                addLog(`${enemy.value.name}  ${enemy.value.stats.currentEndurance - oldEnemyEndurance} `, 'system', 'info');\n            }\n            // \n            player.value.skills.forEach(s => {\n                if (s.currentCooldown > 0) {\n                    s.currentCooldown--;\n                    if (s.currentCooldown === 0) {\n                        addLog(`${s.name} `, 'system', 'info');\n                    }\n                }\n            });\n            enemy.value.skills.forEach(s => {\n                if (s.currentCooldown > 0) {\n                    s.currentCooldown--;\n                }\n            });\n            // MVU\n            updateStatusEffectsFromMvu().then(async (logs) => {\n                logs.forEach(log => addLog(log, 'system', 'info'));\n                // MVUUI\n                await reloadStatusFromMvu();\n            });\n            addLog(`--- ${player.value.name}  ---`, 'system', 'info');\n            saveToMvu();\n        }\n        // \n        function collectCombatLogs() {\n            const filteredLogs = logs.value.filter(log => {\n                const message = log.message;\n                // \n                if ((log.source === 'player' || log.source === 'enemy') && message.includes('')) {\n                    return true;\n                }\n                // \n                if (message.includes('') && (message.includes('') || message.includes(''))) {\n                    return true;\n                }\n                // \n                if (message.includes('')) {\n                    return true;\n                }\n                // \n                if (message.includes('')) {\n                    return true;\n                }\n                // \"XX\"\n                if (message.includes('') && message.includes('')) {\n                    return true;\n                }\n                // \n                if (message.includes('')) {\n                    return true;\n                }\n                // \n                if (message.includes('')) {\n                    return true;\n                }\n                // \n                if (message.includes('')) {\n                    return true;\n                }\n                // /\n                if (message.includes('') || message.includes('') || message.includes('')) {\n                    return true;\n                }\n                // \n                return false;\n            });\n            // \"\"\n            const logTexts = filteredLogs.map(log => {\n                if (log.source === 'player') {\n                    return `${player.value.name}: ${log.message}`;\n                }\n                else if (log.source === 'enemy') {\n                    return `${enemy.value.name}: ${log.message}`;\n                }\n                else {\n                    // \"\"\n                    return log.message;\n                }\n            });\n            return logTexts.join('\\n');\n        }\n        // LLM\n        async function sendCombatLogToLLM(context) {\n            try {\n                const combatLogText = collectCombatLogs();\n                const totalTurns = turnState.currentTurn;\n                // \n                const isVictory = turnState.phase === 'victory';\n                const resultText = isVictory ? '' : '';\n                const contextText = isVictory ? '/' : '';\n                // \n                const fullPrompt = `${resultText}\\n[]\\n${combatLogText}\\n${totalTurns}\\n${contextText}`;\n                // \n                if (typeof createChatMessages === 'function') {\n                    await createChatMessages([\n                        {\n                            role: 'user',\n                            message: fullPrompt,\n                        },\n                    ]);\n                }\n                // LLM\n                if (typeof generate === 'function') {\n                    addLog('...', 'system', 'info');\n                    const generatedText = await generate({ user_input: fullPrompt });\n                    // AI\n                    if (typeof createChatMessages === 'function') {\n                        await createChatMessages([\n                            {\n                                role: 'assistant',\n                                message: `[] ${generatedText}`,\n                            },\n                        ]);\n                        // AI\n                        // createChatMessages AI triggerSlash\n                        addLog('LLMAI...', 'system', 'info');\n                    }\n                }\n                else {\n                    console.warn('[] generate');\n                    addLog('generate', 'system', 'warn');\n                    //  generate AI\n                    if (typeof triggerSlash === 'function') {\n                        await triggerSlash('/trigger');\n                    }\n                }\n            }\n            catch (e) {\n                console.error('[] LLM', e);\n                addLog('LLM', 'system', 'error');\n            }\n        }\n        // \n        async function handleSendCombatLogToLLM() {\n            const context = turnState.phase === 'victory' ? '' : turnState.phase === 'defeat' ? '' : '';\n            await sendCombatLogToLLM(context);\n            // \n            logs.value = [];\n            // MVU\n            try {\n                if (typeof Mvu !== 'undefined') {\n                    const mvuData = Mvu.getMvuData({ type: 'message', message_id: 'latest' });\n                    if (mvuData) {\n                        _.set(mvuData.stat_data, '.', {});\n                        await Mvu.replaceMvuData(mvuData, { type: 'message', message_id: 'latest' });\n                    }\n                }\n            }\n            catch (e) {\n                console.warn('[] ', e);\n            }\n        }\n        // \n        async function processClimaxAfterLLM(targetIsEnemy) {\n            // \n            if (turnState.climaxTarget !== null) {\n                console.warn('[] ');\n                return;\n            }\n            const char = targetIsEnemy ? enemy.value : player.value;\n            // \n            if (char.stats.currentPleasure < char.stats.maxPleasure) {\n                console.warn('[] ');\n                return;\n            }\n            // climaxTarget\n            turnState.climaxTarget = targetIsEnemy ? 'enemy' : 'player';\n            const newChar = cloneCharacter(char);\n            newChar.stats.currentPleasure = 0;\n            newChar.stats.climaxCount += 1;\n            if (targetIsEnemy) {\n                enemy.value = newChar;\n            }\n            else {\n                player.value = newChar;\n            }\n            addLog(`${char.name} ${newChar.stats.climaxCount}/${newChar.stats.maxClimaxCount}`, 'system', 'info');\n            // \n            if (newChar.stats.climaxCount >= newChar.stats.maxClimaxCount) {\n                turnState.phase = targetIsEnemy ? 'victory' : 'defeat';\n                turnState.climaxTarget = null;\n                const resultText = targetIsEnemy ? '' : `${turnState.currentTurn}`;\n                addLog(targetIsEnemy ? `${resultText}` : `... ${resultText}`, 'system', 'critical');\n                // \n                triggerEffect(targetIsEnemy ? 'victory' : 'defeat');\n                // \n                await clearTemporaryStatus();\n                await initializeCombatSystem();\n                saveToMvu();\n                return;\n            }\n            // \n            turnState.climaxTarget = null;\n            if (targetIsEnemy) {\n                setTimeout(handleEnemyTurn, 500);\n            }\n            else {\n                setTimeout(startNewTurn, 500);\n            }\n        }\n        function handleSkipTurn() {\n            if (turnState.phase !== 'playerInput') {\n                return;\n            }\n            // \n            if (playerBoundTurns.value > 0) {\n                addLog(`${player.value.name} `, 'system', 'warn');\n                return;\n            }\n            addLog(`${player.value.name} `, 'system', 'info');\n            // \n            turnState.phase = 'processing';\n            setTimeout(handleEnemyTurn, 1000);\n        }\n        async function handleSurrender() {\n            // allowSurrendertruefalse\n            if (allowSurrender.value) {\n                addLog('', 'system', 'info');\n                return;\n            }\n            // \n            turnState.phase = 'defeat';\n            addLog('...', 'system', 'info');\n            addLog('---  ---', 'system', 'info');\n            // \n            await clearTemporaryStatus();\n            saveToMvu();\n        }\n        // =================  =================\n        watch([\n            () => player.value.stats.currentPleasure,\n            () => player.value.stats.currentEndurance,\n            () => enemy.value.stats.currentPleasure,\n            () => enemy.value.stats.currentEndurance,\n        ], () => {\n            if (turnState.phase === 'climaxResolution' || turnState.phase === 'victory' || turnState.phase === 'defeat')\n                return;\n            // \n            if (enemy.value.stats.currentEndurance <= 0) {\n                turnState.phase = 'victory';\n                addLog(`${turnState.currentTurn}`, 'system', 'critical');\n                triggerEffect('victory');\n                clearTemporaryStatus().then(async () => {\n                    await initializeCombatSystem();\n                    saveToMvu();\n                });\n                return;\n            }\n            if (player.value.stats.currentEndurance <= 0) {\n                turnState.phase = 'defeat';\n                addLog(`... ${turnState.currentTurn}`, 'system', 'damage');\n                triggerEffect('defeat');\n                clearTemporaryStatus().then(async () => {\n                    await initializeCombatSystem();\n                    saveToMvu();\n                });\n                return;\n            }\n            // \n            // climaxTarget\n            if (turnState.climaxTarget === null) {\n                if (enemy.value.stats.currentPleasure >= enemy.value.stats.maxPleasure) {\n                    addLog(`${enemy.value.name} `, 'system', 'critical');\n                    addLog(`${enemy.value.name}  ()`, 'system', 'info');\n                    triggerEffect('climax');\n                    processClimaxAfterLLM(true);\n                    return;\n                }\n                if (player.value.stats.currentPleasure >= player.value.stats.maxPleasure) {\n                    addLog(`${player.value.name} `, 'system', 'critical');\n                    addLog(`${player.value.name}  ()`, 'system', 'info');\n                    triggerEffect('climax');\n                    processClimaxAfterLLM(false);\n                    return;\n                }\n            }\n        });\n        // =================  =================\n        onMounted(async () => {\n            await loadFromMvu();\n            // \n            const userName = getUserName();\n            player.value.name = userName;\n            // \n            await reloadStatusFromMvu();\n            addLog(` ${enemy.value.name} !`, 'system', 'info');\n            // \n            determineEnemyIntention();\n            if (turnState.enemyIntention) {\n                addLog(`${enemy.value.name}  ${turnState.enemyIntention.name}`, 'system', 'info');\n            }\n            addLog(`---  ---`, 'system', 'info');\n            addLog(`--- ${player.value.name}  ---`, 'system', 'info');\n        });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createCommentVNode(\"  \"),\n                _createVNode(BackgroundAmbience),\n                _createCommentVNode(\"  \"),\n                _createElementVNode(\"header\", _hoisted_2, [\n                    _cache[5] || (_cache[5] = _createStaticVNode(\"<div class=\\\"header-left\\\" data-v-25b1df97><svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"20\\\" height=\\\"20\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" class=\\\"terminal-icon\\\" data-v-25b1df97><path d=\\\"m4 17 6-6-6-6\\\" data-v-25b1df97></path><path d=\\\"M12 19h8\\\" data-v-25b1df97></path></svg><div data-v-25b1df97><h1 class=\\\"title\\\" data-v-25b1df97></h1></div></div>\", 1)),\n                    _createElementVNode(\"div\", _hoisted_3, [\n                        _createElementVNode(\"div\", _hoisted_4, \"TURN \" + _toDisplayString(turnState.currentTurn), 1 /* TEXT */),\n                        _createElementVNode(\"div\", _hoisted_5, _toDisplayString(getPhaseText(turnState.phase)), 1 /* TEXT */)\n                    ])\n                ]),\n                _createCommentVNode(\"  \"),\n                _createElementVNode(\"main\", _hoisted_6, [\n                    _createCommentVNode(\"  \"),\n                    _createVNode(CharacterPanel, {\n                        character: player.value,\n                        \"is-enemy\": false,\n                        \"turn-state\": turnState,\n                        \"enemy-intention\": turnState.enemyIntention\n                    }, null, 8 /* PROPS */, [\"character\", \"turn-state\", \"enemy-intention\"]),\n                    _createCommentVNode(\" VS  \"),\n                    _cache[6] || (_cache[6] = _createElementVNode(\"div\", { class: \"vs-divider\" }, [\n                        _createElementVNode(\"div\", { class: \"divider-line\" }),\n                        _createElementVNode(\"span\", { class: \"vs-text\" }, \"VS\"),\n                        _createElementVNode(\"div\", { class: \"divider-line\" })\n                    ], -1 /* CACHED */)),\n                    _createCommentVNode(\"  \"),\n                    _createVNode(CharacterPanel, {\n                        character: enemy.value,\n                        \"is-enemy\": true,\n                        \"turn-state\": turnState,\n                        \"enemy-intention\": turnState.enemyIntention\n                    }, null, 8 /* PROPS */, [\"character\", \"turn-state\", \"enemy-intention\"])\n                ]),\n                _createCommentVNode(\"  \"),\n                _createElementVNode(\"footer\", _hoisted_7, [\n                    _createElementVNode(\"div\", _hoisted_8, [\n                        _createCommentVNode(\"  \"),\n                        _createElementVNode(\"div\", _hoisted_9, [\n                            _createVNode(CombatLog, { logs: logs.value }, null, 8 /* PROPS */, [\"logs\"])\n                        ]),\n                        _createCommentVNode(\"  \"),\n                        _createElementVNode(\"div\", _hoisted_10, [\n                            _createCommentVNode(\"  \"),\n                            (turnState.phase === 'playerInput')\n                                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, [\n                                    _createElementVNode(\"button\", {\n                                        class: _normalizeClass([\"tab-btn\", { active: activeMenu.value === 'main' }]),\n                                        onClick: _cache[0] || (_cache[0] = ($event) => (activeMenu.value = 'main'))\n                                    }, \"  \", 2 /* CLASS */),\n                                    _cache[7] || (_cache[7] = _createElementVNode(\"div\", { class: \"tab-divider\" }, null, -1 /* CACHED */)),\n                                    _cache[8] || (_cache[8] = _createElementVNode(\"span\", { class: \"action-hint\" }, \"\", -1 /* CACHED */))\n                                ]))\n                                : (_openBlock(), _createElementBlock(\"div\", _hoisted_12, [\n                                    _createElementVNode(\"span\", _hoisted_13, _toDisplayString(turnState.phase === 'climaxResolution' ? '...' : '...'), 1 /* TEXT */)\n                                ])),\n                            _createCommentVNode(\"  \"),\n                            _createElementVNode(\"div\", _hoisted_14, [\n                                _createCommentVNode(\"  \"),\n                                (turnState.phase !== 'playerInput' && turnState.phase !== 'climaxResolution')\n                                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [...(_cache[9] || (_cache[9] = [\n                                            _createElementVNode(\"span\", null, \"...\", -1 /* CACHED */)\n                                        ]))]))\n                                    : _createCommentVNode(\"v-if\", true),\n                                _createVNode(_Transition, {\n                                    name: \"slide\",\n                                    mode: \"out-in\"\n                                }, {\n                                    default: _withCtx(() => [\n                                        (activeMenu.value === 'main')\n                                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [\n                                                _createVNode(Card, {\n                                                    hover: \"\",\n                                                    class: \"menu-card\",\n                                                    onClick: _cache[1] || (_cache[1] = ($event) => (activeMenu.value = 'skills'))\n                                                }, {\n                                                    default: _withCtx(() => [...(_cache[10] || (_cache[10] = [\n                                                            _createElementVNode(\"svg\", {\n                                                                xmlns: \"http://www.w3.org/2000/svg\",\n                                                                width: \"32\",\n                                                                height: \"32\",\n                                                                viewBox: \"0 0 24 24\",\n                                                                fill: \"none\",\n                                                                stroke: \"currentColor\",\n                                                                \"stroke-width\": \"2\",\n                                                                class: \"icon-blue\"\n                                                            }, [\n                                                                _createElementVNode(\"path\", { d: \"M14.5 17.5 3 6V3h3l11.5 11.5\" }),\n                                                                _createElementVNode(\"path\", { d: \"M13 19l6-6\" }),\n                                                                _createElementVNode(\"path\", { d: \"m16 16 4 4\" }),\n                                                                _createElementVNode(\"path\", { d: \"m19 21 2-2\" })\n                                                            ], -1 /* CACHED */),\n                                                            _createElementVNode(\"span\", null, \"\", -1 /* CACHED */)\n                                                        ]))]),\n                                                    _: 1 /* STABLE */\n                                                }),\n                                                _createVNode(Card, {\n                                                    hover: \"\",\n                                                    class: \"menu-card\",\n                                                    onClick: _cache[2] || (_cache[2] = ($event) => (activeMenu.value = 'items'))\n                                                }, {\n                                                    default: _withCtx(() => [...(_cache[11] || (_cache[11] = [\n                                                            _createElementVNode(\"svg\", {\n                                                                xmlns: \"http://www.w3.org/2000/svg\",\n                                                                width: \"32\",\n                                                                height: \"32\",\n                                                                viewBox: \"0 0 24 24\",\n                                                                fill: \"none\",\n                                                                stroke: \"currentColor\",\n                                                                \"stroke-width\": \"2\",\n                                                                class: \"icon-green\"\n                                                            }, [\n                                                                _createElementVNode(\"path\", { d: \"M4 20V10a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2Z\" }),\n                                                                _createElementVNode(\"path\", { d: \"M9 6V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2\" })\n                                                            ], -1 /* CACHED */),\n                                                            _createElementVNode(\"span\", null, \"\", -1 /* CACHED */)\n                                                        ]))]),\n                                                    _: 1 /* STABLE */\n                                                }),\n                                                _createVNode(Card, {\n                                                    hover: \"\",\n                                                    class: \"menu-card\",\n                                                    onClick: handleSkipTurn\n                                                }, {\n                                                    default: _withCtx(() => [...(_cache[12] || (_cache[12] = [\n                                                            _createElementVNode(\"svg\", {\n                                                                xmlns: \"http://www.w3.org/2000/svg\",\n                                                                width: \"32\",\n                                                                height: \"32\",\n                                                                viewBox: \"0 0 24 24\",\n                                                                fill: \"none\",\n                                                                stroke: \"currentColor\",\n                                                                \"stroke-width\": \"2\",\n                                                                class: \"icon-yellow\"\n                                                            }, [\n                                                                _createElementVNode(\"polygon\", { points: \"5 4 15 12 5 20 5 4\" }),\n                                                                _createElementVNode(\"line\", {\n                                                                    x1: \"19\",\n                                                                    y1: \"5\",\n                                                                    x2: \"19\",\n                                                                    y2: \"19\"\n                                                                })\n                                                            ], -1 /* CACHED */),\n                                                            _createElementVNode(\"span\", null, \"\", -1 /* CACHED */)\n                                                        ]))]),\n                                                    _: 1 /* STABLE */\n                                                }),\n                                                _createVNode(Card, {\n                                                    hover: !allowSurrender.value,\n                                                    class: _normalizeClass([\"menu-card\", { disabled: allowSurrender.value }]),\n                                                    onClick: handleSurrender\n                                                }, {\n                                                    default: _withCtx(() => [\n                                                        _cache[13] || (_cache[13] = _createElementVNode(\"svg\", {\n                                                            xmlns: \"http://www.w3.org/2000/svg\",\n                                                            width: \"32\",\n                                                            height: \"32\",\n                                                            viewBox: \"0 0 24 24\",\n                                                            fill: \"none\",\n                                                            stroke: \"currentColor\",\n                                                            \"stroke-width\": \"2\",\n                                                            class: \"icon-red\"\n                                                        }, [\n                                                            _createElementVNode(\"path\", { d: \"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z\" }),\n                                                            _createElementVNode(\"line\", {\n                                                                x1: \"4\",\n                                                                y1: \"22\",\n                                                                x2: \"4\",\n                                                                y2: \"15\"\n                                                            })\n                                                        ], -1 /* CACHED */)),\n                                                        _createElementVNode(\"span\", null, _toDisplayString(allowSurrender.value ? '' : ''), 1 /* TEXT */)\n                                                    ]),\n                                                    _: 1 /* STABLE */\n                                                }, 8 /* PROPS */, [\"hover\", \"class\"])\n                                            ]))\n                                            : (activeMenu.value === 'skills')\n                                                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [\n                                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(player.value.skills, (skill) => {\n                                                        return (_openBlock(), _createBlock(Card, {\n                                                            key: skill.id,\n                                                            hover: !isSkillDisabled(skill),\n                                                            class: _normalizeClass([\"skill-card\", { disabled: isSkillDisabled(skill) }]),\n                                                            onClick: ($event) => (handlePlayerSkill(skill))\n                                                        }, {\n                                                            default: _withCtx(() => [\n                                                                (skill.currentCooldown > 0)\n                                                                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_18, [\n                                                                        _cache[15] || (_cache[15] = _createElementVNode(\"svg\", {\n                                                                            xmlns: \"http://www.w3.org/2000/svg\",\n                                                                            width: \"20\",\n                                                                            height: \"20\",\n                                                                            viewBox: \"0 0 24 24\",\n                                                                            fill: \"none\",\n                                                                            stroke: \"currentColor\",\n                                                                            \"stroke-width\": \"2\"\n                                                                        }, [\n                                                                            _createElementVNode(\"circle\", {\n                                                                                cx: \"12\",\n                                                                                cy: \"12\",\n                                                                                r: \"10\"\n                                                                            }),\n                                                                            _createElementVNode(\"polyline\", { points: \"12 6 12 12 16 14\" })\n                                                                        ], -1 /* CACHED */)),\n                                                                        _createElementVNode(\"span\", _hoisted_19, [\n                                                                            _createTextVNode(_toDisplayString(skill.currentCooldown), 1 /* TEXT */),\n                                                                            _cache[14] || (_cache[14] = _createElementVNode(\"small\", null, \"T\", -1 /* CACHED */))\n                                                                        ])\n                                                                    ]))\n                                                                    : _createCommentVNode(\"v-if\", true),\n                                                                _createElementVNode(\"div\", _hoisted_20, [\n                                                                    _createElementVNode(\"span\", {\n                                                                        class: _normalizeClass([\"skill-name\", { 'skill-disabled': isSkillDisabled(skill) }])\n                                                                    }, _toDisplayString(skill.name), 3 /* TEXT, CLASS */),\n                                                                    _createElementVNode(\"span\", {\n                                                                        class: _normalizeClass([\"skill-cost\", { 'cost-danger': player.value.stats.currentEndurance < skill.cost }])\n                                                                    }, _toDisplayString(skill.cost) + \" SP\", 3 /* TEXT, CLASS */)\n                                                                ]),\n                                                                _createElementVNode(\"p\", _hoisted_21, _toDisplayString(skill.description), 1 /* TEXT */),\n                                                                (skill.data?.effectDescription)\n                                                                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_22, [\n                                                                        _cache[16] || (_cache[16] = _createElementVNode(\"span\", { class: \"effect-label\" }, \"\", -1 /* CACHED */)),\n                                                                        _createElementVNode(\"span\", _hoisted_23, _toDisplayString(skill.data.effectDescription), 1 /* TEXT */)\n                                                                    ]))\n                                                                    : _createCommentVNode(\"v-if\", true),\n                                                                _createElementVNode(\"div\", {\n                                                                    class: _normalizeClass([\"skill-type\", { 'type-disabled': isSkillDisabled(skill) }])\n                                                                }, _toDisplayString(skill.type), 3 /* TEXT, CLASS */)\n                                                            ]),\n                                                            _: 2 /* DYNAMIC */\n                                                        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"hover\", \"class\", \"onClick\"]));\n                                                    }), 128 /* KEYED_FRAGMENT */)),\n                                                    _createElementVNode(\"button\", {\n                                                        class: \"back-btn\",\n                                                        onClick: _cache[3] || (_cache[3] = ($event) => (activeMenu.value = 'main'))\n                                                    }, \"\")\n                                                ]))\n                                                : (activeMenu.value === 'items')\n                                                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_24, [\n                                                        (player.value.items.filter(i => i.quantity > 0).length > 0)\n                                                            ? (_openBlock(true), _createElementBlock(_Fragment, { key: 0 }, _renderList(player.value.items.filter(i => i.quantity > 0), (item) => {\n                                                                return (_openBlock(), _createBlock(Card, {\n                                                                    key: item.id,\n                                                                    hover: true,\n                                                                    class: \"item-card\",\n                                                                    onClick: ($event) => (handlePlayerItem(item))\n                                                                }, {\n                                                                    default: _withCtx(() => [\n                                                                        _createElementVNode(\"div\", _hoisted_25, [\n                                                                            _createElementVNode(\"span\", _hoisted_26, _toDisplayString(item.name), 1 /* TEXT */),\n                                                                            _createElementVNode(\"span\", _hoisted_27, \"x\" + _toDisplayString(item.quantity), 1 /* TEXT */)\n                                                                        ]),\n                                                                        _createElementVNode(\"p\", _hoisted_28, _toDisplayString(item.description), 1 /* TEXT */),\n                                                                        (item.staminaRestore || item.pleasureReduce)\n                                                                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_29, [\n                                                                                (item.staminaRestore)\n                                                                                    ? (_openBlock(), _createElementBlock(\"span\", _hoisted_30, [\n                                                                                        _cache[17] || (_cache[17] = _createElementVNode(\"svg\", {\n                                                                                            xmlns: \"http://www.w3.org/2000/svg\",\n                                                                                            width: \"12\",\n                                                                                            height: \"12\",\n                                                                                            viewBox: \"0 0 24 24\",\n                                                                                            fill: \"none\",\n                                                                                            stroke: \"currentColor\",\n                                                                                            \"stroke-width\": \"2\"\n                                                                                        }, [\n                                                                                            _createElementVNode(\"polyline\", { points: \"22 12 18 12 15 21 9 3 6 12 2 12\" })\n                                                                                        ], -1 /* CACHED */)),\n                                                                                        _createTextVNode(\" +\" + _toDisplayString(item.staminaRestore) + \"  \", 1 /* TEXT */)\n                                                                                    ]))\n                                                                                    : _createCommentVNode(\"v-if\", true),\n                                                                                (item.pleasureReduce)\n                                                                                    ? (_openBlock(), _createElementBlock(\"span\", _hoisted_31, [\n                                                                                        _cache[18] || (_cache[18] = _createElementVNode(\"svg\", {\n                                                                                            xmlns: \"http://www.w3.org/2000/svg\",\n                                                                                            width: \"12\",\n                                                                                            height: \"12\",\n                                                                                            viewBox: \"0 0 24 24\",\n                                                                                            fill: \"none\",\n                                                                                            stroke: \"currentColor\",\n                                                                                            \"stroke-width\": \"2\"\n                                                                                        }, [\n                                                                                            _createElementVNode(\"path\", { d: \"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z\" })\n                                                                                        ], -1 /* CACHED */)),\n                                                                                        _createTextVNode(\" -\" + _toDisplayString(item.pleasureReduce) + \"  \", 1 /* TEXT */)\n                                                                                    ]))\n                                                                                    : _createCommentVNode(\"v-if\", true)\n                                                                            ]))\n                                                                            : _createCommentVNode(\"v-if\", true)\n                                                                    ]),\n                                                                    _: 2 /* DYNAMIC */\n                                                                }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"]));\n                                                            }), 128 /* KEYED_FRAGMENT */))\n                                                            : (_openBlock(), _createElementBlock(\"div\", _hoisted_32, [...(_cache[19] || (_cache[19] = [\n                                                                    _createElementVNode(\"p\", { class: \"empty-text\" }, \"\", -1 /* CACHED */)\n                                                                ]))])),\n                                                        _createElementVNode(\"button\", {\n                                                            class: \"back-btn\",\n                                                            onClick: _cache[4] || (_cache[4] = ($event) => (activeMenu.value = 'main'))\n                                                        }, \"\")\n                                                    ]))\n                                                    : _createCommentVNode(\"v-if\", true)\n                                    ]),\n                                    _: 1 /* STABLE */\n                                })\n                            ])\n                        ])\n                    ]),\n                    _createCommentVNode(\"  \"),\n                    (_openBlock(), _createBlock(_Teleport, { to: \"body\" }, [\n                        (turnState.phase === 'victory' || turnState.phase === 'defeat')\n                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_33, [\n                                _createElementVNode(\"div\", _hoisted_34, [\n                                    _createElementVNode(\"h2\", {\n                                        class: _normalizeClass([\"result-title\", turnState.phase])\n                                    }, _toDisplayString(turnState.phase === 'victory' ? '' : ''), 3 /* TEXT, CLASS */),\n                                    _cache[21] || (_cache[21] = _createElementVNode(\"p\", { class: \"result-subtitle\" }, \"\", -1 /* CACHED */)),\n                                    _createElementVNode(\"button\", {\n                                        class: \"btn btn-process\",\n                                        onClick: handleSendCombatLogToLLM\n                                    }, [...(_cache[20] || (_cache[20] = [\n                                            _createElementVNode(\"svg\", {\n                                                xmlns: \"http://www.w3.org/2000/svg\",\n                                                width: \"20\",\n                                                height: \"20\",\n                                                viewBox: \"0 0 24 24\",\n                                                fill: \"none\",\n                                                stroke: \"currentColor\",\n                                                \"stroke-width\": \"2\"\n                                            }, [\n                                                _createElementVNode(\"path\", { d: \"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\" })\n                                            ], -1 /* CACHED */),\n                                            _createTextVNode(\"  \", -1 /* CACHED */)\n                                        ]))])\n                                ])\n                            ]))\n                            : _createCommentVNode(\"v-if\", true)\n                    ]))\n                ]),\n                _createCommentVNode(\"  \"),\n                (effectType.value)\n                    ? (_openBlock(), _createBlock(CombatEffect, {\n                        key: 0,\n                        type: effectType.value,\n                        show: showEffect.value\n                    }, null, 8 /* PROPS */, [\"type\", \"show\"]))\n                    : _createCommentVNode(\"v-if\", true)\n            ]));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./app.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./app.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./app.vue?vue&type=style&index=0&id=25b1df97&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.25_typescript@6.0.0-dev.20250807__webpack@5.103.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-25b1df97\"]])\n\nexport default __exports__","const __WEBPACK_NAMESPACE_OBJECT__ = z;","import { registerMvuSchema } from 'https://testingcf.jsdelivr.net/gh/StageDog/tavern_resource/dist/util/mvu_zod.js';\n// DON'T IMPORT zod OR lodash HERE, USE THEM DIRECTLY!\n// ---  () ---\n// 1.  Schema\nconst BonusSchema = z\n    .object({\n    : z.coerce.number().prefault(0),\n    : z.coerce.number().prefault(0),\n    : z.coerce.number().prefault(0),\n    : z.coerce.number().prefault(0),\n    : z.coerce.number().prefault(0),\n    : z.coerce.number().prefault(0),\n    : z.coerce.number().prefault(0),\n    : z.coerce.number().prefault(0),\n    : z.coerce.number().prefault(0),\n})\n    .prefault({});\n// 2.  Schema\nconst TempStatusSchema = z\n    .object({\n    : z.record(z.string(), z.coerce.number().describe('')).prefault({}),\n    : BonusSchema,\n})\n    .prefault({});\n// 3.  Schema\nconst RelationshipSchema = z\n    .object({\n    : z.coerce\n        .number()\n        .transform(n => _.clamp(n, 0, 100))\n        .prefault(0),\n    : z.enum(['', '', '', '', '', '', '']).catch('').prefault(''),\n})\n    .prefault({});\n// 4.  Schema\nconst SkillEffectSchema = z\n    .object({\n    : z\n        .enum(['', '', '', '', '', '', '', ''])\n        .catch('')\n        .prefault(''),\n    : z.coerce.number().prefault(0),\n    : z.boolean().prefault(false),\n    : z.coerce.number().min(0).prefault(0),\n})\n    .prefault({});\n// 5.  Schema ()\nconst ActiveSkillSchema = z.object({\n    : z\n        .object({\n        : z.string().prefault(''),\n        : z.string().prefault(''),\n        : z.coerce\n            .number()\n            .transform(n => _.clamp(n, 1, 5))\n            .prefault(1),\n        : z.enum(['C', 'B', 'A', 'S', 'SS']).catch('C').prefault('C'),\n    })\n        .prefault({}),\n    : z\n        .object({\n        : z.coerce.number().min(0).prefault(0),\n        : z.coerce.number().min(0).prefault(0),\n    })\n        .prefault({}),\n    : z\n        .object({\n        : z.enum(['', '', '', '', '', '']).catch('').prefault(''),\n        : z.coerce.number().prefault(100), // \n        : z.coerce.number().prefault(100), // \n        : z.record(z.string(), SkillEffectSchema).prefault({}), // Key\n    })\n        .prefault({}),\n});\n// 6.  Schema\n// 6.1 \nconst EquippedItemSchema = z\n    .object({\n    : z.string().prefault(''),\n    : z.enum(['C', 'B', 'A', 'S', 'SS']).catch('C').prefault('C'),\n    : BonusSchema,\n    : z.string().prefault(''),\n})\n    .prefault({});\n// 6.2  ( discriminatedUnion)\nconst BaseItemSchema = z.object({\n    : z.enum(['C', 'B', 'A', 'S', 'SS']).catch('C').prefault('C'),\n    : z.string().prefault(''),\n});\nconst EquipmentInBagSchema = BaseItemSchema.extend({\n    : z.literal(''),\n    : BonusSchema,\n    : z.enum(['', '', '', '']),\n    : z.literal(1).prefault(1),\n});\nconst ConsumableItemSchema = BaseItemSchema.extend({\n    : z.literal(''),\n    : BonusSchema.optional(),\n    : z.coerce.number().optional(),\n    : z.coerce.number().optional(),\n    : z.boolean().prefault(false),\n    : z.coerce.number().min(0).prefault(1),\n});\nconst OtherItemSchema = BaseItemSchema.extend({\n    : z.literal(''),\n    : z.coerce.number().min(0).prefault(1),\n});\nconst BackpackItemSchema = z.discriminatedUnion('', [EquipmentInBagSchema, ConsumableItemSchema, OtherItemSchema]);\nexport const Schema = z.object({\n    // ---  ---\n    : z\n        .object({\n        _: z.coerce\n            .number()\n            .transform(n => _.clamp(n, 1, 100))\n            .prefault(1),\n        : z.coerce.number().min(0).prefault(0),\n        : z.coerce\n            .number()\n            .transform(n => _.clamp(n, -10000, 10000))\n            .prefault(0),\n        _: z.enum(['', 'D', 'C', 'B', 'A', 'S', 'SS', 'SSS']).prefault(''),\n        : z.coerce\n            .number()\n            .transform(n => _.clamp(n, 0, 9999))\n            .prefault(0),\n    })\n        .prefault({}),\n    // ---  ---\n    : z\n        .object({\n        $: z.coerce.number().min(0).prefault(0),\n        $: z.coerce.number().min(0).prefault(0),\n        $: z.coerce.number().min(1).prefault(100),\n        $: z.coerce.number().min(0).prefault(100),\n        $: z.coerce.number().min(1).prefault(100),\n        $: z.coerce.number().min(0).prefault(0),\n        : z.coerce\n            .number()\n            .transform(n => _.clamp(n, 0, 100))\n            .prefault(0),\n        _: z.coerce\n            .number()\n            .transform(n => _.clamp(n, 5.0, 10.0))\n            .prefault(5.0),\n        _: z.coerce.number().min(0).prefault(10),\n        $: z.coerce.number().min(0).prefault(10),\n        _: z.coerce.number().min(0).prefault(10),\n        $: z.coerce.number().min(0).prefault(10),\n        $: z.coerce.number().prefault(10),\n        $: z.coerce.number().prefault(10),\n        _: z.coerce\n            .number()\n            .transform(n => _.clamp(n, 0, 60))\n            .prefault(0),\n        $: z.coerce.number().min(0).prefault(0),\n        _: z.coerce\n            .number()\n            .transform(n => _.clamp(n, 0, 100))\n            .prefault(0),\n        $: z.coerce.number().min(0).prefault(0),\n        : z.coerce\n            .number()\n            .transform(n => _.clamp(n, 0, 100))\n            .prefault(100),\n        $: z.coerce.number().min(0).prefault(100),\n    })\n        .prefault({}),\n    // ---  ---\n    : TempStatusSchema,\n    : z\n        .object({\n        : z.array(z.string()).prefault([]),\n        : BonusSchema,\n    })\n        .prefault({}),\n    // ---  ---\n    : z\n        .object({\n        : z.string().prefault(''),\n        : z\n            .enum(['', '', '', '', '', '', '', ''])\n            .catch('')\n            .prefault(''),\n        : z\n            .object({\n            : z.coerce.number().prefault(1),\n            : z.boolean().prefault(true),\n        })\n            .prefault({}),\n        : z.coerce.number().min(0).prefault(0),\n        : z.record(z.string(), z.string()).prefault({}),\n        : z.coerce.number().prefault(0),\n        : z.coerce.number().prefault(0),\n        : z.coerce.number().prefault(0),\n        // ---  () ---\n        : z.coerce.number().prefault(0),\n        : z.coerce.number().prefault(0),\n        : z.coerce.number().prefault(0),\n        : z.coerce.number().prefault(0),\n        : z.coerce.number().prefault(100),\n        : z.coerce.number().prefault(100),\n        : z.coerce.number().prefault(100),\n        : z.coerce.number().prefault(0),\n        : z.coerce.number().prefault(100),\n        : z.coerce.number().prefault(0),\n        : z.coerce.number().prefault(0),\n        : z.coerce.number().prefault(0),\n        : TempStatusSchema,\n        : z.record(z.string(), z.coerce.number()).prefault({}),\n        // : \n        : z.record(z.string(), ActiveSkillSchema).prefault({}),\n        : z.record(z.string(), z.number()).prefault({}),\n    })\n        .prefault({}),\n    // ---  ---\n    : z\n        .object({\n        : z.array(z.string()).prefault([]),\n    })\n        .catchall(RelationshipSchema)\n        .prefault({}),\n    // ---  ---\n    : z\n        .object({\n        : z\n            .object({\n            : z.string().prefault(''),\n            : z.string().prefault(''),\n            : z.enum(['', '', '', '']).catch('').prefault(''),\n            : z.record(z.string(), z.any()).prefault({}),\n            : z.string().prefault(''),\n            : z.string().prefault(''),\n        })\n            .prefault({}),\n        : z\n            .record(z.string(), z\n            .object({\n            : z.string().prefault(''),\n            : z.enum(['', '', '', '']).catch('').prefault(''),\n            : z.enum(['', '', '', '']).catch('').prefault(''),\n            : z.record(z.string(), z.any()).prefault({}),\n            : z.string().prefault(''),\n            : z.string().prefault(''),\n        })\n            .prefault({}))\n            .prefault({}),\n        : z.array(z.string()).prefault([]),\n    })\n        .prefault({}),\n    // ---  () ---\n    : z\n        .object({\n        : z.coerce.number().min(0).prefault(0),\n        : z.record(z.string(), BackpackItemSchema).prefault({}),\n        _: z\n            .object({\n            : EquippedItemSchema,\n            : EquippedItemSchema,\n            1: EquippedItemSchema,\n            2: EquippedItemSchema,\n            : EquippedItemSchema,\n        })\n            .prefault({}),\n        : BonusSchema,\n    })\n        .prefault({}),\n    // ---  ---\n    : z\n        .object({\n        : z.string().prefault('[1-1]'),\n        : z.coerce.number().prefault(1),\n        : z.string().prefault(''),\n    })\n        .prefault({}),\n    : z\n        .object({\n        : z.string().prefault('2025-3-17'),\n        : z.coerce\n            .number()\n            .transform(n => _.clamp(n, 1, 7))\n            .prefault(1),\n        : z.string().prefault('08:00'),\n    })\n        .prefault({}),\n    // ---  ---\n    : z\n        .object({\n        : z.coerce\n            .number()\n            .transform(n => _.clamp(n, -100, 100))\n            .prefault(0),\n        : z.coerce\n            .number()\n            .transform(n => _.clamp(n, -100, 100))\n            .prefault(0),\n        BF: z.coerce\n            .number()\n            .transform(n => _.clamp(n, -100, 100))\n            .prefault(0),\n        : z.coerce\n            .number()\n            .transform(n => _.clamp(n, -100, 100))\n            .prefault(0),\n        : z.coerce\n            .number()\n            .transform(n => _.clamp(n, -100, 100))\n            .prefault(0),\n        : z.coerce\n            .number()\n            .transform(n => _.clamp(n, -100, 100))\n            .prefault(0),\n        : z.coerce\n            .number()\n            .transform(n => _.clamp(n, -100, 100))\n            .prefault(0),\n        : z.coerce\n            .number()\n            .transform(n => _.clamp(n, -100, 100))\n            .prefault(0),\n    })\n        .prefault({}),\n    // ---  ---\n    : z\n        .object({\n        // :  ActiveSkillSchema\n        : z.record(z.string(), ActiveSkillSchema).prefault({}),\n        // \n    })\n        .prefault({}),\n});\n$(() => {\n    registerMvuSchema(Schema);\n    console.info('[] MVU Schema');\n});\n","import { createApp } from 'vue';\nimport './index.scss';\nimport App from './app.vue';\nimport './mvuSchema'; // MVU Schema\n\n$(() => {\n  // Vue\n  const app = createApp(App);\n  app.mount('#app');\n\n  console.info('[] ');\n});\n\n// \n$(window).on('pagehide', () => {\n  console.info('[] ');\n});\n"],"names":["COMMON_SKILLS","id","name","description","effectDescription","icon","type","PHYSICAL","staminaCost","cooldown","castTime","damageFormula","source","DamageSource","SEX_POWER","coefficient","baseValue","accuracy","critModifier","buffs","SENSITIVE","value","isPercent","duration","stackable","maxStacks","canBeReflected","hitCount","voiceLine","CHARM","SILENCE","DEF_DOWN","SHAME","MENTAL","WILLPOWER_DOWN","SUPPORT","FOCUS","CRIT_UP","ATK_UP","REGEN","DEF_UP","ADVANCED_SKILLS","CONTROL","BIND","DODGE_DOWN","HEAT","ALL_SKILLS","getSkillById","find","skill","getSkillsByType","filter","exports","sfc","props","target","__vccOpts","key","val","executeAttack","attacker","logs","result","damage","isCritical","isDodged","actualDamage","baseDamage","totalDamage","console","info","length","warn","component","sourceValue","stats","sexPower","charm","LUCK","luck","WILLPOWER","willpower","FIXED","componentDamage","finalDamage","Math","max","floor","calculateBaseDamage","push","attackerLuck","targetEvasion","skillAccuracy","finalAccuracy","clampedAccuracy","min","random","checkDodge","evasion","critical","attackerCrit","skillCritModifier","finalCritRate","clampedCritRate","checkCritical","crit","damageBeforeDefense","targetEndurance","baseEndurance","damageAfterDefense","denominator","reductionPercent","toFixed","applyDefenseReduction","actualReduction","modifier","effect","statusEffects","ATK_DOWN","applyBuffModifiers","applySkillBuffs","buff","existingBuffIndex","findIndex","currentStacks","newEffect","Date","now","getBuffName","isDebuff","FEAR","DOT_LUST","ENDURANCE_UP","includes","ENEMY_DATABASE","getEnemyMvuData","enemyName","SkillType","BuffType","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","module","__webpack_modules__","d","definition","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","Vue","_hoisted_1","class","__name","setup","__props","dustParticles","ref","petals","onMounted","Array","from","map","_","i","left","delay","scale","_ctx","_cache","particle","style","animationDelay","animationDuration","petal","transform","hover","Boolean","default","emits","onClick","$event","$emit","$slots","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","color","label","showValue","size","percentage","computed","innerHTML","width","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","compact","xmlns","height","viewBox","fill","stroke","points","character","isEnemy","turnState","enemyIntention","phase","src","avatarUrl","alt","climaxTarget","StatsPanel","ProgressBar","currentEndurance","maxEndurance","currentPleasure","maxPleasure","climaxCount","maxClimaxCount","show","iconMap","dodge","climax","victory","defeat","textMap","text","effectType","watch","newType","to","isExpanded","bottomRef","nextTick","scrollIntoView","behavior","turn","message","log","ref_key","createLog","msg","toString","substr","PLAYER_SKILLS","cost","currentCooldown","user","dmg","_target","ENEMY_SKILLS","PLAYER_ITEMS","quantity","staminaRestore","pleasureReduce","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","player","isPlayer","items","skills","s","baseWillpower","enemy","reactive","currentTurn","activeMenu","allowSurrender","playerBoundTurns","enemyBoundTurns","showEffect","getUserName","getChatMessages","messages","role","lastUserMessage","globalAny","window","chat","characters","userChar","c","is_user","SillyTavern","e","async","loadFromMvu","waitGlobalInitialized","mvuData","Mvu","getMvuData","message_id","stat_data","data","userName","availableSkills","skillIds","keys","skillId","skillData","mvuSkill","effectDesc","damageInfo","sourceName","values","eff","join","damageSource","basicSkillData","presetData","set","replaceMvuData","updatedMvuData","enemySkills","enemySkillIds","loadEnemyFromMvuData","backpack","combatItems","combatUsableItems","entries","forEach","itemId","itemData","itemName","nameMatch","match","trim","item","oldEndurance","actualHeal","oldPleasure","actualReduce","surrenderAllowed","saveToMvu","playerSkillCooldowns","enemySkillCooldowns","actionLogs","index","logKey","logValue","updates","path","appliedEffects","Map","applySkillEffectsFromMvu","isPlayerSkill","skillPath","effectList","effectName","effectData","effectValue","isPercentage","isPositive","isSelf","actualValue","abs","targetName","effectKey","existingEffect","applied","effectDelta","changeValue","updateMvuData","currentValue","error","clearBonusFromStatus","statusKey","bonusPath","parts","split","bonusField","parseFloat","currentBonus","newBonus","getEffectTypeName","reloadStatusFromMvu","playerTempBonus","playerPermBonus","playerEquipBonus","playerBaseCharm","playerBaseLuck","playerBaseEvasion","playerBaseCrit","triggerEffect","setTimeout","initializeCombatSystem","clearTemporaryStatus","clear","addLog","logEntry","updatedLogs","cloneCharacter","char","isSkillDisabled","determineEnemyIntention","validSkills","skillsToChoose","handleEnemyTurn","startNewTurn","nextPlayer","nextEnemy","skillCost","skillIndex","then","processClimaxAfterLLM","oldPlayerEndurance","oldEnemyEndurance","effectsToRemove","effectInfo","delete","playerStatusList","updatedPlayerStatus","newDuration","updateStatusEffectsFromMvu","sendCombatLogToLLM","context","combatLogText","totalTurns","isVictory","fullPrompt","createChatMessages","generate","generatedText","user_input","triggerSlash","handleSendCombatLogToLLM","targetIsEnemy","newChar","resultText","handleSkipTurn","handleSurrender","BackgroundAmbience","playerInput","processing","enemyAction","climaxResolution","CharacterPanel","CombatLog","active","mode","Card","x1","y1","x2","y2","disabled","cx","cy","itemIndex","CombatEffect","z","BonusSchema","object","coerce","number","prefault","TempStatusSchema","record","string","describe","RelationshipSchema","n","clamp","enum","catch","SkillEffectSchema","boolean","ActiveSkillSchema","EquippedItemSchema","BaseItemSchema","EquipmentInBagSchema","extend","literal","ConsumableItemSchema","optional","OtherItemSchema","BackpackItemSchema","discriminatedUnion","Schema","array","catchall","any","$","createApp","mount","on"],"ignoreList":[],"sourceRoot":""}